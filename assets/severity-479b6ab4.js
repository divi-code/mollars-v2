import{P as l,Q as p,R as b,E as S}from"./misc-d9782c74.js";function h(){const t=typeof WeakSet=="function",n=t?new WeakSet:[];function r(i){if(t)return n.has(i)?!0:(n.add(i),!1);for(let o=0;o<n.length;o++)if(n[o]===i)return!0;return n.push(i),!1}function e(i){if(t)n.delete(i);else for(let o=0;o<n.length;o++)if(n[o]===i){n.splice(o,1);break}}return[r,e]}function z(t,n=1/0,r=1/0){try{return y("",t,n,r)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function w(t,n=3,r=100*1024){const e=z(t,n);return E(e)>r?w(t,n-1,r):e}function y(t,n,r=1/0,e=1/0,i=h()){const[o,d]=i;if(n===null||["number","boolean","string"].includes(typeof n)&&!l(n))return n;const c=N(t,n);if(!c.startsWith("[object "))return c;if(n.__sentry_skip_normalization__)return n;if(r===0)return c.replace("object ","");if(o(n))return"[Circular ~]";const s=n;if(s&&typeof s.toJSON=="function")try{const f=s.toJSON();return y("",f,r-1,e,i)}catch{}const u=Array.isArray(n)?[]:{};let m=0;const a=p(n);for(const f in a){if(!Object.prototype.hasOwnProperty.call(a,f))continue;if(m>=e){u[f]="[MaxProperties ~]";break}const g=a[f];u[f]=y(f,g,r-1,e,i),m++}return d(n),u}function N(t,n){try{return t==="domain"&&n&&typeof n=="object"&&n._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&n===global?"[Global]":typeof window<"u"&&n===window?"[Window]":typeof document<"u"&&n===document?"[Document]":b(n)?"[SyntheticEvent]":typeof n=="number"&&n!==n?"[NaN]":n===void 0?"[undefined]":typeof n=="function"?`[Function: ${S(n)}]`:typeof n=="symbol"?`[${String(n)}]`:typeof n=="bigint"?`[BigInt: ${String(n)}]`:`[object ${O(n)}]`}catch(r){return`**non-serializable** (${r})`}}function O(t){const n=Object.getPrototypeOf(t);return n?n.constructor.name:"null prototype"}function _(t){return~-encodeURI(t).split(/%..|./).length}function E(t){return _(JSON.stringify(t))}const I=["fatal","error","warning","log","info","debug"];function $(t){return t==="warn"?"warning":I.includes(t)?t:"log"}export{w as a,z as n,$ as s};
