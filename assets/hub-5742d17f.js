import{l as y,J as Q,D as p,K as z,F as A,B as q,L as Z,M as F,E as tt,e as $,b as S,d as et,f as nt,a as st,N as C,O as it,G as k}from"./misc-d9782c74.js";const u=F(),E={},G={};function rt(n){if(!G[n])switch(G[n]=!0,n){case"console":ot();break;case"dom":pt();break;case"xhr":_t();break;case"fetch":at();break;case"history":ht();break;case"error":gt();break;case"unhandledrejection":mt();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&y.warn("unknown instrumentation type:",n);return}}function wt(n,t){E[n]=E[n]||[],E[n].push(t),rt(n)}function d(n,t){if(!(!n||!E[n]))for(const e of E[n]||[])try{e(t)}catch(s){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&y.error(`Error while triggering instrumentation handler.
Type: ${n}
Name: ${tt(e)}
Error:`,s)}}function ot(){"console"in u&&Q.forEach(function(n){n in u.console&&p(u.console,n,function(t){return function(...e){d("console",{args:e,level:n}),t&&t.apply(u.console,e)}})})}function at(){z()&&p(u,"fetch",function(n){return function(...t){const e={args:t,fetchData:{method:ut(t),url:ct(t)},startTimestamp:Date.now()};return d("fetch",{...e}),n.apply(u,t).then(s=>(d("fetch",{...e,endTimestamp:Date.now(),response:s}),s),s=>{throw d("fetch",{...e,endTimestamp:Date.now(),error:s}),s})}})}function ut(n=[]){return"Request"in u&&A(n[0],Request)&&n[0].method?String(n[0].method).toUpperCase():n[1]&&n[1].method?String(n[1].method).toUpperCase():"GET"}function ct(n=[]){return typeof n[0]=="string"?n[0]:"Request"in u&&A(n[0],Request)?n[0].url:String(n[0])}function _t(){if(!("XMLHttpRequest"in u))return;const n=XMLHttpRequest.prototype;p(n,"open",function(t){return function(...e){const s=this,i=e[1],r=s.__sentry_xhr__={method:q(e[0])?e[0].toUpperCase():e[0],url:e[1]};q(i)&&r.method==="POST"&&i.match(/sentry_key/)&&(s.__sentry_own_request__=!0);const o=function(){if(s.readyState===4){try{r.status_code=s.status}catch{}d("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:s})}};return"onreadystatechange"in s&&typeof s.onreadystatechange=="function"?p(s,"onreadystatechange",function(c){return function(...a){return o(),c.apply(s,a)}}):s.addEventListener("readystatechange",o),t.apply(s,e)}}),p(n,"send",function(t){return function(...e){return this.__sentry_xhr__&&e[0]!==void 0&&(this.__sentry_xhr__.body=e[0]),d("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}})}let T;function ht(){if(!Z())return;const n=u.onpopstate;u.onpopstate=function(...e){const s=u.location.href,i=T;if(T=s,d("history",{from:i,to:s}),n)try{return n.apply(this,e)}catch{}};function t(e){return function(...s){const i=s.length>2?s[2]:void 0;if(i){const r=T,o=String(i);T=o,d("history",{from:r,to:o})}return e.apply(this,s)}}p(u.history,"pushState",t),p(u.history,"replaceState",t)}const dt=1e3;let D,N;function ft(n,t){if(!n||n.type!==t.type)return!0;try{if(n.target!==t.target)return!0}catch{}return!1}function lt(n){if(n.type!=="keypress")return!1;try{const t=n.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function Y(n,t=!1){return e=>{if(!e||N===e||lt(e))return;const s=e.type==="keypress"?"input":e.type;D===void 0?(n({event:e,name:s,global:t}),N=e):ft(N,e)&&(n({event:e,name:s,global:t}),N=e),clearTimeout(D),D=u.setTimeout(()=>{D=void 0},dt)}}function pt(){if(!("document"in u))return;const n=d.bind(null,"dom"),t=Y(n,!0);u.document.addEventListener("click",t,!1),u.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(e=>{const s=u[e]&&u[e].prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(p(s,"addEventListener",function(i){return function(r,o,c){if(r==="click"||r=="keypress")try{const a=this,_=a.__sentry_instrumentation_handlers__=a.__sentry_instrumentation_handlers__||{},f=_[r]=_[r]||{refCount:0};if(!f.handler){const M=Y(n);f.handler=M,i.call(this,r,M,c)}f.refCount++}catch{}return i.call(this,r,o,c)}}),p(s,"removeEventListener",function(i){return function(r,o,c){if(r==="click"||r=="keypress")try{const a=this,_=a.__sentry_instrumentation_handlers__||{},f=_[r];f&&(f.refCount--,f.refCount<=0&&(i.call(this,r,f.handler,c),f.handler=void 0,delete _[r]),Object.keys(_).length===0&&delete a.__sentry_instrumentation_handlers__)}catch{}return i.call(this,r,o,c)}}))})}let L=null;function gt(){L=u.onerror,u.onerror=function(n,t,e,s,i){return d("error",{column:s,error:i,line:e,msg:n,url:t}),L?L.apply(this,arguments):!1}}let v=null;function mt(){v=u.onunhandledrejection,u.onunhandledrejection=function(n){return d("unhandledrejection",n),v?v.apply(this,arguments):!0}}function St(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Lt(){return"npm"}function J(){return!St()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function O(n,t){return n.require(t)}function vt(n){let t;try{t=O(module,n)}catch{}try{const{cwd:e}=O(module,"process");t=O(module,`${e()}/node_modules/${n}`)}catch{}return t}var l;(function(n){n[n.PENDING=0]="PENDING";const e=1;n[n.RESOLVED=e]="RESOLVED";const s=2;n[n.REJECTED=s]="REJECTED"})(l||(l={}));function Pt(n){return new h(t=>{t(n)})}function Ut(n){return new h((t,e)=>{e(n)})}class h{__init(){this._state=l.PENDING}__init2(){this._handlers=[]}constructor(t){h.prototype.__init.call(this),h.prototype.__init2.call(this),h.prototype.__init3.call(this),h.prototype.__init4.call(this),h.prototype.__init5.call(this),h.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(e){this._reject(e)}}then(t,e){return new h((s,i)=>{this._handlers.push([!1,r=>{if(!t)s(r);else try{s(t(r))}catch(o){i(o)}},r=>{if(!e)i(r);else try{s(e(r))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(e=>e,t)}finally(t){return new h((e,s)=>{let i,r;return this.then(o=>{r=!1,i=o,t&&t()},o=>{r=!0,i=o,t&&t()}).then(()=>{if(r){s(i);return}e(i)})})}__init3(){this._resolve=t=>{this._setResult(l.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(l.REJECTED,t)}}__init5(){this._setResult=(t,e)=>{if(this._state===l.PENDING){if($(e)){e.then(this._resolve,this._reject);return}this._state=t,this._value=e,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===l.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(e=>{e[0]||(this._state===l.RESOLVED&&e[1](this._value),this._state===l.REJECTED&&e[2](this._value),e[0]=!0)})}}}function Bt(n){if(!n)return{};const t=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const e=t[6]||"",s=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+e+s}}function It(n){return n.split(/[\?#]/,1)[0]}function Ht(n){return n.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}const V=F(),U={nowSeconds:()=>Date.now()/1e3};function Et(){const{performance:n}=V;if(!n||!n.now)return;const t=Date.now()-n.now();return{now:()=>n.now(),timeOrigin:t}}function yt(){try{return O(module,"perf_hooks").performance}catch{return}}const P=J()?yt():Et(),j=P===void 0?U:{nowSeconds:()=>(P.timeOrigin+P.now())/1e3},W=U.nowSeconds.bind(U),B=j.nowSeconds.bind(j),Mt=B,qt=(()=>{const{performance:n}=V;if(!n||!n.now)return;const t=3600*1e3,e=n.now(),s=Date.now(),i=n.timeOrigin?Math.abs(n.timeOrigin+e-s):t,r=i<t,o=n.timing&&n.timing.navigationStart,a=typeof o=="number"?Math.abs(o+e-s):t,_=a<t;return r||_?i<=a?n.timeOrigin:o:s})();function bt(n){const t=B(),e={sid:S(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Dt(e)};return n&&R(e,n),e}function R(n,t={}){if(t.user&&(!n.ipAddress&&t.user.ip_address&&(n.ipAddress=t.user.ip_address),!n.did&&!t.did&&(n.did=t.user.id||t.user.email||t.user.username)),n.timestamp=t.timestamp||B(),t.ignoreDuration&&(n.ignoreDuration=t.ignoreDuration),t.sid&&(n.sid=t.sid.length===32?t.sid:S()),t.init!==void 0&&(n.init=t.init),!n.did&&t.did&&(n.did=`${t.did}`),typeof t.started=="number"&&(n.started=t.started),n.ignoreDuration)n.duration=void 0;else if(typeof t.duration=="number")n.duration=t.duration;else{const e=n.timestamp-n.started;n.duration=e>=0?e:0}t.release&&(n.release=t.release),t.environment&&(n.environment=t.environment),!n.ipAddress&&t.ipAddress&&(n.ipAddress=t.ipAddress),!n.userAgent&&t.userAgent&&(n.userAgent=t.userAgent),typeof t.errors=="number"&&(n.errors=t.errors),t.status&&(n.status=t.status)}function Tt(n,t){let e={};t?e={status:t}:n.status==="ok"&&(e={status:"exited"}),R(n,e)}function Dt(n){return et({sid:`${n.sid}`,init:n.init,started:new Date(n.started*1e3).toISOString(),timestamp:new Date(n.timestamp*1e3).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}const Nt=100;class m{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const e=new m;return t&&(e._breadcrumbs=[...t._breadcrumbs],e._tags={...t._tags},e._extra={...t._extra},e._contexts={...t._contexts},e._user=t._user,e._level=t._level,e._span=t._span,e._session=t._session,e._transactionName=t._transactionName,e._fingerprint=t._fingerprint,e._eventProcessors=[...t._eventProcessors],e._requestSession=t._requestSession,e._attachments=[...t._attachments],e._sdkProcessingMetadata={...t._sdkProcessingMetadata}),e}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&R(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return e===null?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){const e=t(this);return e instanceof m?e:this}return t instanceof m?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):nt(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,e){const s=typeof e=="number"?e:Nt;if(s<=0)return this;const i={timestamp:W(),...t};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-s),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,e={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const s=this._span.transaction&&this._span.transaction.name;s&&(t.tags={transaction:s,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...X(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,e,s,i=0){return new h((r,o)=>{const c=t[i];if(e===null||typeof c!="function")r(e);else{const a=c({...e},s);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&c.id&&a===null&&y.log(`Event processor "${c.id}" dropped event`),$(a)?a.then(_=>this._notifyEventProcessors(t,_,s,i+1).then(r)).then(null,o):this._notifyEventProcessors(t,a,s,i+1).then(r).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?st(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function X(){return C("globalEventProcessors",()=>[])}function Gt(n){X().push(n)}const I=4,kt=100;class b{__init(){this._stack=[{}]}constructor(t,e=new m,s=I){this._version=s,b.prototype.__init.call(this),this.getStackTop().scope=e,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){const e=this.getStackTop();e.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=m.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const e=this.pushScope();try{t(e)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){const s=this._lastEventId=e&&e.event_id?e.event_id:S(),i=new Error("Sentry syntheticException");return this._withClient((r,o)=>{r.captureException(t,{originalException:t,syntheticException:i,...e,event_id:s},o)}),s}captureMessage(t,e,s){const i=this._lastEventId=s&&s.event_id?s.event_id:S(),r=new Error(t);return this._withClient((o,c)=>{o.captureMessage(t,e,{originalException:t,syntheticException:r,...s,event_id:i},c)}),i}captureEvent(t,e){const s=e&&e.event_id?e.event_id:S();return t.type||(this._lastEventId=s),this._withClient((i,r)=>{i.captureEvent(t,{...e,event_id:s},r)}),s}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:s,client:i}=this.getStackTop();if(!s||!i)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:o=kt}=i.getOptions&&i.getOptions()||{};if(o<=0)return;const a={timestamp:W(),...t},_=r?it(()=>r(a,e)):a;_!==null&&s.addBreadcrumb(_,o)}setUser(t){const e=this.getScope();e&&e.setUser(t)}setTags(t){const e=this.getScope();e&&e.setTags(t)}setExtras(t){const e=this.getScope();e&&e.setExtras(t)}setTag(t,e){const s=this.getScope();s&&s.setTag(t,e)}setExtra(t,e){const s=this.getScope();s&&s.setExtra(t,e)}setContext(t,e){const s=this.getScope();s&&s.setContext(t,e)}configureScope(t){const{scope:e,client:s}=this.getStackTop();e&&s&&t(e)}run(t){const e=x(this);try{t(this)}finally{x(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&y.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){return this._callExtensionMethod("startTransaction",t,e)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop(),e=t&&t.scope,s=e&&e.getSession();s&&Tt(s),this._sendSessionUpdate(),e&&e.setSession()}startSession(t){const{scope:e,client:s}=this.getStackTop(),{release:i,environment:r}=s&&s.getOptions()||{},{userAgent:o}=k.navigator||{},c=bt({release:i,environment:r,...e&&{user:e.getUser()},...o&&{userAgent:o},...t});if(e){const a=e.getSession&&e.getSession();a&&a.status==="ok"&&R(a,{status:"exited"}),this.endSession(),e.setSession(c)}return c}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop();if(!t)return;const s=t.getSession();s&&e&&e.captureSession&&e.captureSession(s)}_withClient(t){const{scope:e,client:s}=this.getStackTop();s&&t(s,e)}_callExtensionMethod(t,...e){const i=w().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,e);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&y.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function w(){return k.__SENTRY__=k.__SENTRY__||{extensions:{},hub:void 0},k}function x(n){const t=w(),e=g(t);return H(t,n),e}function Yt(){const n=w();return(!K(n)||g(n).isOlderThan(I))&&H(n,new b),J()?Ot(n):g(n)}function Ot(n){try{const t=w().__SENTRY__,e=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!e)return g(n);if(!K(e)||g(e).isOlderThan(I)){const s=g(n).getStackTop();H(e,new b(s.client,m.clone(s.scope)))}return g(e)}catch{return g(n)}}function K(n){return!!(n&&n.__SENTRY__&&n.__SENTRY__.hub)}function g(n){return C("hub",()=>new b,n)}function H(n,t){if(!n)return!1;const e=n.__SENTRY__=n.__SENTRY__||{};return e.hub=t,!0}export{b as H,h as S,Pt as a,Gt as b,m as c,W as d,wt as e,Lt as f,Yt as g,qt as h,J as i,Ht as j,g as k,B as l,x as m,w as n,vt as o,Bt as p,O as q,Ut as r,It as s,Mt as t,R as u};
