import{d as an,u as xa,a as Ra,l as v,b as lr,t as Pe,c as xn,i as dr,e as Ta,f as He,g as sn,h as xt,s as on,G as fr,m as Ia,j as Na,k as je,n as oe,o as hr,p as Rn,q as Ca,r as pr,v as _r,w as Oa,x as We,y as Tn,z as Aa,A as Da,B as mr,C as Ua,D as Rt,E as $t,F as gr,H as La,I as Ma}from"./misc-d9782c74.js";import{r as we,S as cn,a as gt,d as vr,g as R,b as Oe,c as za,u as In,e as ut,p as Ge,f as Fa,i as Ba,h as Pa,t as Ze,j as Nn}from"./hub-5742d17f.js";import{H as Nu,k as Cu,m as Ou}from"./hub-5742d17f.js";import{n as kt,a as Ga,s as Ya}from"./severity-479b6ab4.js";import{h as Ae}from"./App-fd2e876d.js";import{r as ht,R as yr}from"./index-7bb53421.js";class J extends Error{constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const $a=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ha(t){return t==="http"||t==="https"}function De(t,e=!1){const{host:n,path:r,pass:a,port:i,projectId:s,protocol:o,publicKey:c}=t;return`${o}://${c}${e&&a?`:${a}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function ja(t){const e=$a.exec(t);if(!e)throw new J(`Invalid Sentry Dsn: ${t}`);const[n,r,a="",i,s="",o]=e.slice(1);let c="",u=o;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const f=u.match(/^\d+/);f&&(u=f[0])}return br({host:i,pass:a,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function br(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Wa(t){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;const{port:e,projectId:n,protocol:r}=t;if(["protocol","publicKey","host","projectId"].forEach(i=>{if(!t[i])throw new J(`Invalid Sentry Dsn: ${i} missing`)}),!n.match(/^\d+$/))throw new J(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!Ha(r))throw new J(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(e&&isNaN(parseInt(e,10)))throw new J(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function Sr(t){const e=typeof t=="string"?ja(t):br(t);return Wa(e),e}function Za(t){const e=[];function n(){return t===void 0||e.length<t}function r(s){return e.splice(e.indexOf(s),1)[0]}function a(s){if(!n())return we(new J("Not adding Promise because buffer limit was reached."));const o=s();return e.indexOf(o)===-1&&e.push(o),o.then(()=>r(o)).then(null,()=>r(o).then(null,()=>{})),o}function i(s){return new cn((o,c)=>{let u=e.length;if(!u)return o(!0);const l=setTimeout(()=>{s&&s>0&&o(!1)},s);e.forEach(f=>{gt(f).then(()=>{--u||(clearTimeout(l),o(!0))},c)})})}return{$:e,add:a,drain:i}}function fe(t,e=[]){return[t,e]}function qa(t,e){const[n,r]=t;return[n,[...r,e]]}function Cn(t,e){t[1].forEach(r=>{const a=r[0].type;e(r,a)})}function qe(t,e){return(e||new TextEncoder).encode(t)}function wr(t,e){const[n,r]=t;let a=JSON.stringify(n);function i(s){typeof a=="string"?a=typeof s=="string"?a+s:[qe(a,e),s]:a.push(typeof s=="string"?qe(s,e):s)}for(const s of r){const[o,c]=s;if(i(`
${JSON.stringify(o)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(kt(c))}i(u)}}return typeof a=="string"?a:Va(a)}function Va(t){const e=t.reduce((a,i)=>a+i.length,0),n=new Uint8Array(e);let r=0;for(const a of t)n.set(a,r),r+=a.length;return n}function Xa(t,e){const n=typeof t.data=="string"?qe(t.data,e):t.data;return[an({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const Ka={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function On(t){return Ka[t]}function un(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function Er(t,e,n,r){const a=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&{dsn:De(r)},...t.type==="transaction"&&a&&{trace:an({...a})}}}function Ja(t,e,n){const r=[{type:"client_report"},{timestamp:n||vr(),discarded_events:t}];return fe(e?{dsn:e}:{},[r])}const Qa=60*1e3;function ti(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?Qa:r-e}function ei(t,e){return t[e]||t.all||0}function ni(t,e,n=Date.now()){return ei(t,e)>n}function ri(t,{statusCode:e,headers:n},r=Date.now()){const a={...t},i=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(i)for(const o of i.trim().split(",")){const[c,u]=o.split(":",2),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)a.all=r+f;else for(const h of u.split(";"))a[h]=r+f}else s?a.all=r+ti(s,r):e===429&&(a.all=r+60*1e3);return a}function Ue(t,e){return R().captureException(t,{captureContext:e})}function Kc(t,e){const n=typeof e=="string"?e:void 0,r=typeof e!="string"?{captureContext:e}:void 0;return R().captureMessage(t,n,r)}function Jc(t,e){return R().captureEvent(t,e)}function ai(t){R().configureScope(t)}function ii(t){R().addBreadcrumb(t)}function si(t,e){R().setContext(t,e)}function Qc(t){R().setExtras(t)}function tu(t,e){R().setExtra(t,e)}function eu(t){R().setTags(t)}function nu(t,e){R().setTag(t,e)}function ru(t){R().setUser(t)}function kr(t){R().withScope(t)}function au(t,e){return R().startTransaction({...t},e)}const oi="7";function xr(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function ci(t){return`${xr(t)}${t.projectId}/envelope/`}function ui(t,e){return xa({sentry_key:t.publicKey,sentry_version:oi,...e&&{sentry_client:`${e.name}/${e.version}`}})}function Rr(t,e={}){const n=typeof e=="string"?e:e.tunnel,r=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return n||`${ci(t)}?${ui(t,r)}`}function li(t,e){const n=Sr(t),r=`${xr(n)}embed/error-page/`;let a=`dsn=${De(n)}`;for(const i in e)if(i!=="dsn")if(i==="user"){const s=e.user;if(!s)continue;s.name&&(a+=`&name=${encodeURIComponent(s.name)}`),s.email&&(a+=`&email=${encodeURIComponent(s.email)}`)}else a+=`&${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`;return`${r}?${a}`}function di(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function fi(t,e,n,r){const a=un(n),i={sent_at:new Date().toISOString(),...a&&{sdk:a},...!!r&&{dsn:De(e)}},s="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t];return fe(i,[s])}function hi(t,e,n,r){const a=un(n),i=t.type&&t.type!=="replay_event"?t.type:"event";di(t,n&&n.sdk);const s=Er(t,a,r,e);return delete t.sdkProcessingMetadata,fe(s,[[{type:i},t]])}const An=[];function pi(t){const e={};return t.forEach(n=>{const{name:r}=n,a=e[r];a&&!a.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.values(e)}function _i(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...e,...n]:typeof n=="function"?r=Ra(n(e)):r=e;const a=pi(r),i=a.findIndex(s=>s.name==="Debug");if(i!==-1){const[s]=a.splice(i,1);a.push(s)}return a}function mi(t){const e={};return t.forEach(n=>{Tr(n,e)}),e}function Tr(t,e){e[t.name]=t,An.indexOf(t.name)===-1&&(t.setupOnce(Oe,R),An.push(t.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`Integration installed: ${t.name}`))}function Ir(t,e,n,r){const{normalizeDepth:a=3,normalizeMaxBreadth:i=1e3}=t,s={...e,event_id:e.event_id||n.event_id||lr(),timestamp:e.timestamp||vr()},o=n.integrations||t.integrations.map(l=>l.name);gi(s,t),vi(s,o);let c=r;n.captureContext&&(c=za.clone(c).update(n.captureContext));let u=gt(s);if(c){if(c.getAttachments){const l=[...n.attachments||[],...c.getAttachments()];l.length&&(n.attachments=l)}u=c.applyToEvent(s,n)}return u.then(l=>typeof a=="number"&&a>0?yi(l,a,i):l)}function gi(t,e){const{environment:n,release:r,dist:a,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:"production"),t.release===void 0&&r!==void 0&&(t.release=r),t.dist===void 0&&a!==void 0&&(t.dist=a),t.message&&(t.message=Pe(t.message,i));const s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=Pe(s.value,i));const o=t.request;o&&o.url&&(o.url=Pe(o.url,i))}function vi(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function yi(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(a=>({...a,...a.data&&{data:kt(a.data,e,n)}}))},...t.user&&{user:kt(t.user,e,n)},...t.contexts&&{contexts:kt(t.contexts,e,n)},...t.extra&&{extra:kt(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=kt(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(a=>(a.data&&(a.data=kt(a.data,e,n)),a))),r}const Dn="Not capturing exception because it's already been captured.";class Mt{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(Mt.prototype.__init.call(this),Mt.prototype.__init2.call(this),Mt.prototype.__init3.call(this),Mt.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=Sr(e.dsn);const n=Rr(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("No DSN provided, client will not do anything.")}captureException(e,n,r){if(xn(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(Dn);return}let a=n&&n.event_id;return this._process(this.eventFromException(e,n).then(i=>this._captureEvent(i,n,r)).then(i=>{a=i})),a}captureMessage(e,n,r,a){let i=r&&r.event_id;const s=dr(e)?this.eventFromMessage(String(e),n,r):this.eventFromException(e,r);return this._process(s.then(o=>this._captureEvent(o,r,a)).then(o=>{i=o})),i}captureEvent(e,n,r){if(n&&n.originalException&&xn(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(Dn);return}let a=n&&n.event_id;return this._process(this._captureEvent(e,n,r).then(i=>{a=i})),a}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),In(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?this._isClientDoneProcessing(e).then(r=>n.flush(e).then(a=>r&&a)):gt(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=mi(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){Tr(e,this._integrations)}sendEvent(e,n={}){if(this._dsn){let r=hi(e,this._dsn,this._options._metadata,this._options.tunnel);for(const a of n.attachments||[])r=qa(r,Xa(a,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(r)}}sendSession(e){if(this._dsn){const n=fi(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const a=`${e}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`Adding outcome: "${a}"`),this._outcomes[a]=this._outcomes[a]+1||1}}_updateSessionFromEvent(e,n){let r=!1,a=!1;const i=n.exception&&n.exception.values;if(i){a=!0;for(const c of i){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const s=e.status==="ok";(s&&e.errors===0||s&&r)&&(In(e,{...r&&{status:"crashed"},errors:e.errors||Number(a||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new cn(n=>{let r=0;const a=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=a,e&&r>=e&&(clearInterval(i),n(!1)))},a)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,n,r){const a=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i.length>0&&(n.integrations=i),Ir(a,e,n,r)}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(a=>a.event_id,a=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const i=a;i.logLevel==="log"?v.log(i.message):v.warn(i)}})}_processEvent(e,n,r){const a=this.getOptions(),{sampleRate:i}=a;if(!this._isEnabled())return we(new J("SDK not enabled, will not capture event.","log"));const s=Cr(e),o=Nr(e),c=e.type||"error",u=`before send for type \`${c}\``;if(o&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),we(new J(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const l=c==="replay_event"?"replay":c;return this._prepareEvent(e,n,r).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",l,e),new J("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return f;const p=Si(a,f,n);return bi(p,u)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",l,e),new J(`${u} returned \`null\`, will not send event.`,"log");const h=r&&r.getSession();!s&&h&&this._updateSessionFromEvent(h,f);const p=f.transaction_info;if(s&&p&&f.transaction!==e.transaction){const d="custom";f.transaction_info={...p,source:d,changes:[...p.changes,{source:d,timestamp:f.timestamp,propagations:p.propagations}]}}return this.sendEvent(f,n),f}).then(null,f=>{throw f instanceof J?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new J(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("Error while sending event:",n)}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[r,a]=n.split(":");return{reason:r,category:a,quantity:e[n]}})}}function bi(t,e){const n=`${e} must return \`null\` or a valid event.`;if(Ta(t))return t.then(r=>{if(!He(r)&&r!==null)throw new J(n);return r},r=>{throw new J(`${e} rejected with ${r}`)});if(!He(t)&&t!==null)throw new J(n);return t}function Si(t,e,n){const{beforeSend:r,beforeSendTransaction:a}=t;return Nr(e)&&r?r(e,n):Cr(e)&&a?a(e,n):e}function Nr(t){return t.type===void 0}function Cr(t){return t.type==="transaction"}function wi(t,e){e.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?v.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=R(),r=n.getScope();r&&r.update(e.initialScope);const a=new t(e);n.bindClient(a)}const Ei=30;function Or(t,e,n=Za(t.bufferSize||Ei)){let r={};const a=s=>n.drain(s);function i(s){const o=[];if(Cn(s,(f,h)=>{const p=On(h);if(ni(r,p)){const d=Un(f,h);t.recordDroppedEvent("ratelimit_backoff",p,d)}else o.push(f)}),o.length===0)return gt();const c=fe(s[0],o),u=f=>{Cn(c,(h,p)=>{const d=Un(h,p);t.recordDroppedEvent(f,On(p),d)})},l=()=>e({body:wr(c,t.textEncoder)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),r=ri(r,f),f),f=>{throw u("network_error"),f});return n.add(l).then(f=>f,f=>{if(f instanceof J)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("Skipped sending event because buffer is full."),u("queue_overflow"),gt();throw f})}return{send:i,flush:a}}function Un(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}const Ee="7.36.0";let Ln;class Ht{constructor(){Ht.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Ht.id}setupOnce(){Ln=Function.prototype.toString,Function.prototype.toString=function(...e){const n=sn(this)||this;return Ln.apply(n,e)}}}Ht.__initStatic();const ki=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class It{static __initStatic(){this.id="InboundFilters"}__init(){this.name=It.id}constructor(e={}){this._options=e,It.prototype.__init.call(this)}setupOnce(e,n){const r=a=>{const i=n();if(i){const s=i.getIntegration(It);if(s){const o=i.getClient(),c=o?o.getOptions():{},u=xi(s._options,c);return Ri(a,u)?null:a}}return a};r.id=this.name,e(r)}}It.__initStatic();function xi(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...ki],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function Ri(t,e){return e.ignoreInternal&&Oi(t)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Event dropped due to being internal Sentry Error.
Event: ${xt(t)}`),!0):Ti(t,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${xt(t)}`),!0):Ii(t,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${xt(t)}.
Url: ${ke(t)}`),!0):Ni(t,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${xt(t)}.
Url: ${ke(t)}`),!0)}function Ti(t,e){return!e||!e.length?!1:Ci(t).some(n=>on(n,e))}function Ii(t,e){if(!e||!e.length)return!1;const n=ke(t);return n?on(n,e):!1}function Ni(t,e){if(!e||!e.length)return!0;const n=ke(t);return n?on(n,e):!0}function Ci(t){if(t.message)return[t.message];if(t.exception)try{const{type:e="",value:n=""}=t.exception.values&&t.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error(`Cannot extract message for event ${xt(t)}`),[]}return[]}function Oi(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function Ai(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function ke(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?Ai(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error(`Cannot extract url for event ${xt(t)}`),null}}const Di=Object.freeze(Object.defineProperty({__proto__:null,FunctionToString:Ht,InboundFilters:It},Symbol.toStringTag,{value:"Module"})),S=fr;let Ve=0;function Ar(){return Ve>0}function Ui(){Ve++,setTimeout(()=>{Ve--})}function At(t,e={},n){if(typeof t!="function")return t;try{const a=t.__sentry_wrapped__;if(a)return a;if(sn(t))return t}catch{return t}const r=function(){const a=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const i=a.map(s=>At(s,e));return t.apply(this,i)}catch(i){throw Ui(),kr(s=>{s.addEventProcessor(o=>(e.mechanism&&(je(o,void 0,void 0),oe(o,e.mechanism)),o.extra={...o.extra,arguments:a},o)),Ue(i)}),i}};try{for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}catch{}Ia(r,t),Na(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}function Dr(t,e){const n=ln(t,e),r={type:e&&e.name,value:Fi(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Li(t,e,n,r){const i=R().getClient(),s=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:_r(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:`Non-Error ${r?"promise rejection":"exception"} captured with keys: ${Oa(e)}`}]},extra:{__serialized__:Ga(e,s)}};if(n){const c=ln(t,n);c.length&&(o.exception.values[0].stacktrace={frames:c})}return o}function Ye(t,e){return{exception:{values:[Dr(t,e)]}}}function ln(t,e){const n=e.stacktrace||e.stack||"",r=zi(e);try{return t(n,r)}catch{}return[]}const Mi=/Minified React error #\d+;/i;function zi(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(Mi.test(t.message))return 1}return 0}function Fi(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function Bi(t,e,n,r){const a=n&&n.syntheticException||void 0,i=dn(t,e,a,r);return oe(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),gt(i)}function Pi(t,e,n="info",r,a){const i=r&&r.syntheticException||void 0,s=Xe(t,e,i,a);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),gt(s)}function dn(t,e,n,r,a){let i;if(hr(e)&&e.error)return Ye(t,e.error);if(Rn(e)||Ca(e)){const s=e;if("stack"in e)i=Ye(t,e);else{const o=s.name||(Rn(s)?"DOMError":"DOMException"),c=s.message?`${o}: ${s.message}`:o;i=Xe(t,c,n,r),je(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return pr(e)?Ye(t,e):He(e)||_r(e)?(i=Li(t,e,n,a),oe(i,{synthetic:!0}),i):(i=Xe(t,e,n,r),je(i,`${e}`,void 0),oe(i,{synthetic:!0}),i)}function Xe(t,e,n,r){const a={message:e};if(r&&n){const i=ln(t,n);i.length&&(a.exception={values:[{value:e,stacktrace:{frames:i}}]})}return a}const ge=1024,Ur="Breadcrumbs";class jt{static __initStatic(){this.id=Ur}__init(){this.name=jt.id}constructor(e){jt.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&ut("console",Yi),this.options.dom&&ut("dom",Gi(this.options.dom)),this.options.xhr&&ut("xhr",$i),this.options.fetch&&ut("fetch",Hi),this.options.history&&ut("history",ji)}addSentryBreadcrumb(e){this.options.sentry&&R().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:xt(e)},{event:e})}}jt.__initStatic();function Gi(t){function e(n){let r,a=typeof t=="object"?t.serializeAttribute:void 0,i=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;i&&i>ge&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`\`dom.maxStringLength\` cannot exceed ${ge}, but a value of ${i} was configured. Sentry will use ${ge} instead.`),i=ge),typeof a=="string"&&(a=[a]);try{r=n.event.target?We(n.event.target,{keyAttrs:a,maxStringLength:i}):We(n.event,{keyAttrs:a,maxStringLength:i})}catch{r="<unknown>"}r.length!==0&&R().addBreadcrumb({category:`ui.${n.name}`,message:r},{event:n.event,name:n.name,global:n.global})}return e}function Yi(t){for(let n=0;n<t.args.length;n++)if(t.args[n]==="ref=Ref<"){t.args[n+1]="viewRef";break}const e={category:"console",data:{arguments:t.args,logger:"console"},level:Ya(t.level),message:Tn(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message=`Assertion failed: ${Tn(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1);else return;R().addBreadcrumb(e,{input:t.args,level:t.level})}function $i(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;const{method:e,url:n,status_code:r,body:a}=t.xhr.__sentry_xhr__||{};R().addBreadcrumb({category:"xhr",data:{method:e,url:n,status_code:r},type:"http"},{xhr:t.xhr,input:a});return}}function Hi(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"||(t.error?R().addBreadcrumb({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args}):R().addBreadcrumb({category:"fetch",data:{...t.fetchData,status_code:t.response.status},type:"http"},{input:t.args,response:t.response})))}function ji(t){let e=t.from,n=t.to;const r=Ge(S.location.href);let a=Ge(e);const i=Ge(n);a.path||(a=r),r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===a.protocol&&r.host===a.host&&(e=a.relative),R().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}class Wi extends Mt{constructor(e){const n=S.SENTRY_SDK_SOURCE||Fa();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:Ee}],version:Ee},super(e),e.sendClientReports&&S.document&&S.document.addEventListener("visibilitychange",()=>{S.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return Bi(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return Pi(this._options.stackParser,e,n,r,this._options.attachStacktrace)}sendEvent(e,n){const r=this.getIntegrationById(Ur);r&&r.addSentryBreadcrumb&&r.addSentryBreadcrumb(e),super.sendEvent(e,n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("Sending outcomes:",e);const n=Rr(this._dsn,this._options),r=Ja(e,this._options.tunnel&&De(this._dsn));try{Object.prototype.toString.call(S&&S.navigator)==="[object Navigator]"&&typeof S.navigator.sendBeacon=="function"&&!this._options.transportOptions?S.navigator.sendBeacon.bind(S.navigator)(n,wr(r)):this._sendEnvelope(r)}catch(a){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error(a)}}}let ee;function Zi(){if(ee)return ee;if(Aa(S.fetch))return ee=S.fetch.bind(S);const t=S.document;let e=S.fetch;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return ee=e.bind(S)}function qi(){ee=void 0}function Vi(t,e=Zi()){function n(r){const a={body:r.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r.body.length<=65536,...t.fetchOptions};try{return e(t.url,a).then(i=>({statusCode:i.status,headers:{"x-sentry-rate-limits":i.headers.get("X-Sentry-Rate-Limits"),"retry-after":i.headers.get("Retry-After")}}))}catch(i){return qi(),we(i)}}return Or(t,n)}const Xi=4;function Ki(t){function e(n){return new cn((r,a)=>{const i=new XMLHttpRequest;i.onerror=a,i.onreadystatechange=()=>{i.readyState===Xi&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",t.url);for(const s in t.headers)Object.prototype.hasOwnProperty.call(t.headers,s)&&i.setRequestHeader(s,t.headers[s]);i.send(n.body)})}return Or(t,e)}const Kt="?",Ji=10,Qi=20,ts=30,es=40,ns=50;function he(t,e,n,r){const a={filename:t,function:e,in_app:!0};return n!==void 0&&(a.lineno=n),r!==void 0&&(a.colno=r),a}const rs=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,as=/\((\S*)(?::(\d+))(?::(\d+))\)/,is=t=>{const e=rs.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){const i=as.exec(e[2]);i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3])}const[r,a]=Lr(e[1]||Kt,e[2]);return he(a,r,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},ss=[ts,is],os=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,cs=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,us=t=>{const e=os.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const i=cs.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let r=e[3],a=e[1]||Kt;return[a,r]=Lr(a,r),he(r,a,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},ls=[ns,us],ds=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,fs=t=>{const e=ds.exec(t);return e?he(e[2],e[1]||Kt,+e[3],e[4]?+e[4]:void 0):void 0},hs=[es,fs],ps=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,_s=t=>{const e=ps.exec(t);return e?he(e[2],e[3]||Kt,+e[1]):void 0},iu=[Ji,_s],ms=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,gs=t=>{const e=ms.exec(t);return e?he(e[5],e[3]||e[4]||Kt,+e[1],+e[2]):void 0},su=[Qi,gs],vs=[ss,ls,hs],ys=Da(...vs),Lr=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:Kt,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};class mt{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=mt.id}__init2(){this._installFunc={onerror:bs,onunhandledrejection:Ss}}constructor(e){mt.prototype.__init.call(this),mt.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const r=this._installFunc[n];r&&e[n]&&(ks(n),r(),this._installFunc[n]=void 0)}}}mt.__initStatic();function bs(){ut("error",t=>{const[e,n,r]=Fr();if(!e.getIntegration(mt))return;const{msg:a,url:i,line:s,column:o,error:c}=t;if(Ar()||c&&c.__sentry_own_request__)return;const u=c===void 0&&mr(a)?Es(a,i,s,o):Mr(dn(n,c||a,void 0,r,!1),i,s,o);u.level="error",zr(e,c,u,"onerror")})}function Ss(){ut("unhandledrejection",t=>{const[e,n,r]=Fr();if(!e.getIntegration(mt))return;let a=t;try{"reason"in t?a=t.reason:"detail"in t&&"reason"in t.detail&&(a=t.detail.reason)}catch{}if(Ar()||a&&a.__sentry_own_request__)return!0;const i=dr(a)?ws(a):dn(n,a,void 0,r,!0);i.level="error",zr(e,a,i,"onunhandledrejection")})}function ws(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function Es(t,e,n,r){const a=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=hr(t)?t.message:t,s="Error";const o=i.match(a);return o&&(s=o[1],i=o[2]),Mr({exception:{values:[{type:s,value:i}]}},e,n,r)}function Mr(t,e,n,r){const a=t.exception=t.exception||{},i=a.values=a.values||[],s=i[0]=i[0]||{},o=s.stacktrace=s.stacktrace||{},c=o.frames=o.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,f=mr(e)&&e.length>0?e:Ua();return c.length===0&&c.push({colno:u,filename:f,function:"?",in_app:!0,lineno:l}),t}function ks(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`Global Handler attached: ${t}`)}function zr(t,e,n,r){oe(n,{handled:!1,type:r}),t.captureEvent(n,{originalException:e})}function Fr(){const t=R(),e=t.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,n.stackParser,n.attachStacktrace]}const xs=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Wt{static __initStatic(){this.id="TryCatch"}__init(){this.name=Wt.id}constructor(e){Wt.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&Rt(S,"setTimeout",Mn),this._options.setInterval&&Rt(S,"setInterval",Mn),this._options.requestAnimationFrame&&Rt(S,"requestAnimationFrame",Rs),this._options.XMLHttpRequest&&"XMLHttpRequest"in S&&Rt(XMLHttpRequest.prototype,"send",Ts);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:xs).forEach(Is)}}Wt.__initStatic();function Mn(t){return function(...e){const n=e[0];return e[0]=At(n,{mechanism:{data:{function:$t(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function Rs(t){return function(e){return t.apply(this,[At(e,{mechanism:{data:{function:"requestAnimationFrame",handler:$t(t)},handled:!0,type:"instrument"}})])}}function Ts(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(a=>{a in n&&typeof n[a]=="function"&&Rt(n,a,function(i){const s={mechanism:{data:{function:a,handler:$t(i)},handled:!0,type:"instrument"}},o=sn(i);return o&&(s.mechanism.data.handler=$t(o)),At(i,s)})}),t.apply(this,e)}}function Is(t){const e=S,n=e[t]&&e[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Rt(n,"addEventListener",function(r){return function(a,i,s){try{typeof i.handleEvent=="function"&&(i.handleEvent=At(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:$t(i),target:t},handled:!0,type:"instrument"}}))}catch{}return r.apply(this,[a,At(i,{mechanism:{data:{function:"addEventListener",handler:$t(i),target:t},handled:!0,type:"instrument"}}),s])}}),Rt(n,"removeEventListener",function(r){return function(a,i,s){const o=i;try{const c=o&&o.__sentry_wrapped__;c&&r.call(this,a,c,s)}catch{}return r.call(this,a,o,s)}}))}const Ns="cause",Cs=5;class Nt{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Nt.id}constructor(e={}){Nt.prototype.__init.call(this),this._key=e.key||Ns,this._limit=e.limit||Cs}setupOnce(){const e=R().getClient();e&&Oe((n,r)=>{const a=R().getIntegration(Nt);return a?Os(e.getOptions().stackParser,a._key,a._limit,n,r):n})}}Nt.__initStatic();function Os(t,e,n,r,a){if(!r.exception||!r.exception.values||!a||!gr(a.originalException,Error))return r;const i=Br(t,n,a.originalException,e);return r.exception.values=[...i,...r.exception.values],r}function Br(t,e,n,r,a=[]){if(!gr(n[r],Error)||a.length+1>=e)return a;const i=Dr(t,n[r]);return Br(t,e,n[r],r,[i,...a])}class Ct{constructor(){Ct.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Ct.id}setupOnce(){Oe(e=>{if(R().getIntegration(Ct)){if(!S.navigator&&!S.location&&!S.document)return e;const n=e.request&&e.request.url||S.location&&S.location.href,{referrer:r}=S.document||{},{userAgent:a}=S.navigator||{},i={...e.request&&e.request.headers,...r&&{Referer:r},...a&&{"User-Agent":a}},s={...e.request,...n&&{url:n},headers:i};return{...e,request:s}}return e})}}Ct.__initStatic();class Ot{constructor(){Ot.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Ot.id}setupOnce(e,n){const r=a=>{const i=n().getIntegration(Ot);if(i){try{if(As(a,i._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return i._previousEvent=a}return i._previousEvent=a}return a};r.id=this.name,e(r)}}Ot.__initStatic();function As(t,e){return e?!!(Ds(t,e)||Us(t,e)):!1}function Ds(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Gr(t,e)||!Pr(t,e))}function Us(t,e){const n=zn(e),r=zn(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Gr(t,e)||!Pr(t,e))}function Pr(t,e){let n=Fn(t),r=Fn(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let a=0;a<r.length;a++){const i=r[a],s=n[a];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function Gr(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function zn(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Fn(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}const Ls=[new It,new Ht,new Wt,new jt,new mt,new Nt,new Ot,new Ct];function Ms(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=Ls),t.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(t.release=__SENTRY_RELEASE__),S.SENTRY_RELEASE&&S.SENTRY_RELEASE.id&&(t.release=S.SENTRY_RELEASE.id)),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0);const e={...t,stackParser:La(t.stackParser||ys),integrations:_i(t),transport:t.transport||(Ma()?Vi:Ki)};wi(Wi,e),t.autoSessionTracking&&Fs()}function zs(t={},e=R()){if(!S.document){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=e.getStackTop(),a=t.dsn||n&&n.getDsn();if(!a){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("DSN not configured for showReportDialog call");return}r&&(t.user={...r.getUser(),...t.user}),t.eventId||(t.eventId=e.lastEventId());const i=S.document.createElement("script");i.async=!0,i.src=li(a,t),t.onLoad&&(i.onload=t.onLoad);const s=S.document.head||S.document.body;s?s.appendChild(i):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("Not injecting report dialog. No injection point found in HTML")}function ou(){return R().lastEventId()}function cu(){}function uu(t){t()}function lu(t){const e=R().getClient();return e?e.flush(t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("Cannot flush events. No client defined."),gt(!1))}function du(t){const e=R().getClient();return e?e.close(t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("Cannot flush events and disable SDK. No client defined."),gt(!1))}function fu(t){return At(t)()}function Bn(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function Fs(){if(typeof S.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const t=R();t.captureSession&&(Bn(t),ut("history",({from:e,to:n})=>{e===void 0||e===n||Bn(R())}))}const Bs=Object.freeze(Object.defineProperty({__proto__:null,Breadcrumbs:jt,Dedupe:Ot,GlobalHandlers:mt,HttpContext:Ct,LinkedErrors:Nt,TryCatch:Wt},Symbol.toStringTag,{value:"Module"})),W=fr,Yr="sentryReplaySession",$r="replay_event",fn="Unable to send Replay",hn=3e5,Pn=hn,Hr=36e5,Ps="body *:not(style), body *:not(script)",Gs=5e3,Ys=5e3,$s=6e4,Hs=5e3,js=3;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var F=function(){return F=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},F.apply(this,arguments)};function Ws(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function bt(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,i=[],s;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function N(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Z;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(Z||(Z={}));function Zs(t){return t.nodeType===t.ELEMENT_NODE}function re(t){var e,n=(e=t)===null||e===void 0?void 0:e.host;return Boolean(n&&n.shadowRoot&&n.shadowRoot===t)}function pn(t){var e=t.input,n=t.maskInputSelector,r=t.unmaskInputSelector,a=t.maskInputOptions,i=t.tagName,s=t.type,o=t.value,c=t.maskInputFn,u=o||"";return r&&e.matches(r)||(a[i.toLowerCase()]||a[s]||n&&e.matches(n))&&(c?u=c(u):u="*".repeat(u.length)),u}var Gn="__rrweb_original__";function qs(t){var e=t.getContext("2d");if(!e)return!0;for(var n=50,r=0;r<t.width;r+=n)for(var a=0;a<t.height;a+=n){var i=e.getImageData,s=Gn in i?i[Gn]:i,o=new Uint32Array(s.call(e,r,a,Math.min(n,t.width-r),Math.min(n,t.height-a)).data.buffer);if(o.some(function(c){return c!==0}))return!1}return!0}var Vs=1,Xs=new RegExp("[^a-z0-9-_:]"),ce=-2;function Ks(){return Vs++}function Js(t){if(t instanceof HTMLFormElement)return"form";var e=t.tagName.toLowerCase().trim();return Xs.test(e)?"div":e}function Ke(t){try{var e=t.rules||t.cssRules;return e?Array.from(e).map(Qs).join(""):null}catch{return null}}function Qs(t){var e=t.cssText;if(to(t))try{e=Ke(t.styleSheet)||e}catch{}return e}function to(t){return"styleSheet"in t}function eo(t){return t.cssRules?Array.from(t.cssRules).map(function(e){return e.cssText||""}).join(""):""}function no(t){var e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}var Ut,Yn,ro=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ao=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,io=/^(data:)([^,]*),(.*)/i;function ye(t,e){return(t||"").replace(ro,function(n,r,a,i,s,o){var c=a||s||o,u=r||i||"";if(!c)return n;if(!ao.test(c)||io.test(c))return"url("+u+c+u+")";if(c[0]==="/")return"url("+u+(no(e)+c)+u+")";var l=e.split("/"),f=c.split("/");l.pop();for(var h=0,p=f;h<p.length;h++){var d=p[h];d!=="."&&(d===".."?l.pop():l.push(d))}return"url("+u+l.join("/")+u+")"})}var so=/^[^ \t\n\r\u000c]+/,oo=/^[, \t\n\r\u000c]+/;function co(t,e){if(e.trim()==="")return e;var n=0;function r(u){var l,f=u.exec(e.substring(n));return f?(l=f[0],n+=l.length,l):""}for(var a=[];r(oo),!(n>=e.length);){var i=r(so);if(i.slice(-1)===",")i=zt(t,i.substring(0,i.length-1)),a.push(i);else{var s="";i=zt(t,i);for(var o=!1;;){var c=e.charAt(n);if(c===""){a.push((i+s).trim());break}else if(o)c===")"&&(o=!1);else if(c===","){n+=1,a.push((i+s).trim());break}else c==="("&&(o=!0);s+=c,n+=1}}}return a.join(", ")}function zt(t,e){if(!e||e.trim()==="")return e;var n=t.createElement("a");return n.href=e,n.href}function uo(t){return Boolean(t.tagName==="svg"||t.ownerSVGElement)}function Je(){var t=document.createElement("a");return t.href="",t.href}function jr(t,e,n,r){return n==="src"||n==="href"&&r||n==="xlink:href"&&r&&r[0]!=="#"||n==="background"&&r&&(e==="table"||e==="td"||e==="th")?zt(t,r):n==="srcset"&&r?co(t,r):n==="style"&&r?ye(r,Je()):e==="object"&&n==="data"&&r?zt(t,r):r}function lo(t,e,n,r){if(r&&t.matches(r))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(var a=0;a<t.classList.length;a++){var i=t.classList[a];if(e.test(i))return!0}return n?t.matches(n):!1}function ae(t,e,n,r){if(!t)return!1;if(t.nodeType===t.ELEMENT_NODE){if(r&&(t.matches(r)||t.closest(r)))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(var a=0;a<t.classList.length;a++){var i=t.classList[a];if(e.test(i))return!0}return n&&t.matches(n)?!0:ae(t.parentNode,e,n,r)}return t.nodeType===t.TEXT_NODE,ae(t.parentNode,e,n,r)}function fo(t,e,n){var r=t.contentWindow;if(r){var a=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){var s=setTimeout(function(){a||(e(),a=!0)},n);t.addEventListener("load",function(){clearTimeout(s),a=!0,e()});return}var o="about:blank";if(r.location.href!==o||t.src===o||t.src===""){setTimeout(e,0);return}t.addEventListener("load",e)}}function ho(t,e){var n,r=e.doc,a=e.blockClass,i=e.blockSelector,s=e.unblockSelector,o=e.maskTextClass,c=e.maskTextSelector,u=e.unmaskTextSelector,l=e.inlineStylesheet,f=e.maskInputSelector,h=e.unmaskInputSelector,p=e.maskInputOptions,d=p===void 0?{}:p,w=e.maskTextFn,E=e.maskInputFn,k=e.dataURLOptions,y=k===void 0?{}:k,_=e.inlineImages,m=e.recordCanvas,x=e.keepIframeSrcFn,g;if(r.__sn){var A=r.__sn.id;g=A===1?void 0:A}switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:Z.Document,childNodes:[],compatMode:t.compatMode,rootId:g}:{type:Z.Document,childNodes:[],rootId:g};case t.DOCUMENT_TYPE_NODE:return{type:Z.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:g};case t.ELEMENT_NODE:for(var M=lo(t,a,i,s),O=Js(t),b={},q=0,P=Array.from(t.attributes);q<P.length;q++){var z=P[q],H=z.name,nt=z.value;b[H]=jr(r,O,H,nt)}if(O==="link"&&l){var Q=Array.from(r.styleSheets).find(function(ct){return ct.href===t.href}),V=null;Q&&(V=Ke(Q)),V&&(delete b.rel,delete b.href,b._cssText=ye(V,Q.href))}if(O==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){var V=Ke(t.sheet);V&&(b._cssText=ye(V,Je()))}if(O==="input"||O==="textarea"||O==="select"){var nt=t.value;b.type!=="radio"&&b.type!=="checkbox"&&b.type!=="submit"&&b.type!=="button"&&nt?b.value=pn({input:t,type:b.type,tagName:O,value:nt,maskInputSelector:f,unmaskInputSelector:h,maskInputOptions:d,maskInputFn:E}):t.checked&&(b.checked=t.checked)}if(O==="option"&&(t.selected&&!d.select?b.selected=!0:delete b.selected),O==="canvas"&&m){if(t.__context==="2d")qs(t)||(b.rr_dataURL=t.toDataURL(y.type,y.quality));else if(!("__context"in t)){var B=t.toDataURL(y.type,y.quality),G=document.createElement("canvas");G.width=t.width,G.height=t.height;var rt=G.toDataURL(y.type,y.quality);B!==rt&&(b.rr_dataURL=B)}}if(O==="img"&&_){Ut||(Ut=r.createElement("canvas"),Yn=Ut.getContext("2d"));var D=t,ot=D.crossOrigin;D.crossOrigin="anonymous";var pt=function(){try{Ut.width=D.naturalWidth,Ut.height=D.naturalHeight,Yn.drawImage(D,0,0),b.rr_dataURL=Ut.toDataURL(y.type,y.quality)}catch(ct){console.warn("Cannot inline img src="+D.currentSrc+"! Error: "+ct)}ot?b.crossOrigin=ot:delete b.crossOrigin};D.complete&&D.naturalWidth!==0?pt():D.onload=pt}if((O==="audio"||O==="video")&&(b.rr_mediaState=t.paused?"paused":"played",b.rr_mediaCurrentTime=t.currentTime),t.scrollLeft&&(b.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(b.rr_scrollTop=t.scrollTop),M){var lt=t.getBoundingClientRect(),Dt=lt.width,vt=lt.height;b={class:b.class,rr_width:Dt+"px",rr_height:vt+"px"}}return O==="iframe"&&!x(b.src)&&(t.contentDocument||(b.rr_src=b.src),delete b.src),{type:Z.Element,tagName:O,attributes:b,childNodes:[],isSVG:uo(t)||void 0,needBlock:M,rootId:g};case t.TEXT_NODE:var it=t.parentNode&&t.parentNode.tagName,Y=t.textContent,_t=it==="STYLE"?!0:void 0,yt=it==="SCRIPT"?!0:void 0;if(_t&&Y){try{t.nextSibling||t.previousSibling||!((n=t.parentNode.sheet)===null||n===void 0)&&n.cssRules&&(Y=eo(t.parentNode.sheet))}catch(ct){console.warn("Cannot get CSS styles from text's parentNode. Error: "+ct,t)}Y=ye(Y,Je())}return yt&&(Y="SCRIPT_PLACEHOLDER"),!_t&&!yt&&ae(t,o,c,u)&&Y&&(Y=w?w(Y):Y.replace(/[\S]/g,"*")),{type:Z.Text,textContent:Y||"",isStyle:_t,rootId:g};case t.CDATA_SECTION_NODE:return{type:Z.CDATA,textContent:"",rootId:g};case t.COMMENT_NODE:return{type:Z.Comment,textContent:t.textContent||"",rootId:g};default:return!1}}function U(t){return t===void 0?"":t.toLowerCase()}function po(t,e){if(e.comment&&t.type===Z.Comment)return!0;if(t.type===Z.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&t.attributes.rel==="preload"&&t.attributes.as==="script"||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(U(t.attributes.name).match(/^msapplication-tile(image|color)$/)||U(t.attributes.name)==="application-name"||U(t.attributes.rel)==="icon"||U(t.attributes.rel)==="apple-touch-icon"||U(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&U(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(U(t.attributes.property).match(/^(og|twitter|fb):/)||U(t.attributes.name).match(/^(og|twitter):/)||U(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(U(t.attributes.name)==="robots"||U(t.attributes.name)==="googlebot"||U(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(U(t.attributes.name)==="author"||U(t.attributes.name)==="generator"||U(t.attributes.name)==="framework"||U(t.attributes.name)==="publisher"||U(t.attributes.name)==="progid"||U(t.attributes.property).match(/^article:/)||U(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(U(t.attributes.name)==="google-site-verification"||U(t.attributes.name)==="yandex-verification"||U(t.attributes.name)==="csrf-token"||U(t.attributes.name)==="p:domain_verify"||U(t.attributes.name)==="verify-v1"||U(t.attributes.name)==="verification"||U(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function ie(t,e){var n=e.doc,r=e.map,a=e.blockClass,i=e.blockSelector,s=e.unblockSelector,o=e.maskTextClass,c=e.maskTextSelector,u=e.unmaskTextSelector,l=e.skipChild,f=l===void 0?!1:l,h=e.inlineStylesheet,p=h===void 0?!0:h,d=e.maskInputSelector,w=e.unmaskInputSelector,E=e.maskInputOptions,k=E===void 0?{}:E,y=e.maskTextFn,_=e.maskInputFn,m=e.slimDOMOptions,x=e.dataURLOptions,g=x===void 0?{}:x,A=e.inlineImages,M=A===void 0?!1:A,O=e.recordCanvas,b=O===void 0?!1:O,q=e.onSerialize,P=e.onIframeLoad,z=e.iframeLoadTimeout,H=z===void 0?5e3:z,nt=e.keepIframeSrcFn,Q=nt===void 0?function(){return!1}:nt,V=e.preserveWhiteSpace,B=V===void 0?!0:V,G=ho(t,{doc:n,blockClass:a,blockSelector:i,unblockSelector:s,maskTextClass:o,maskTextSelector:c,unmaskTextSelector:u,inlineStylesheet:p,maskInputSelector:d,unmaskInputSelector:w,maskInputOptions:k,maskTextFn:y,maskInputFn:_,dataURLOptions:g,inlineImages:M,recordCanvas:b,keepIframeSrcFn:Q});if(!G)return console.warn(t,"not serialized"),null;var rt;"__sn"in t?rt=t.__sn.id:po(G,m)||!B&&G.type===Z.Text&&!G.isStyle&&!G.textContent.replace(/^\s+|\s+$/gm,"").length?rt=ce:rt=Ks();var D=Object.assign(G,{id:rt});if(t.__sn=D,rt===ce)return null;r[rt]=t,q&&q(t);var ot=!f;if(D.type===Z.Element&&(ot=ot&&!D.needBlock,delete D.needBlock,t.shadowRoot&&(D.isShadowHost=!0)),(D.type===Z.Document||D.type===Z.Element)&&ot){m.headWhitespace&&G.type===Z.Element&&G.tagName==="head"&&(B=!1);for(var pt={doc:n,map:r,blockClass:a,blockSelector:i,unblockSelector:s,maskTextClass:o,maskTextSelector:c,unmaskTextSelector:u,skipChild:f,inlineStylesheet:p,maskInputSelector:d,unmaskInputSelector:w,maskInputOptions:k,maskTextFn:y,maskInputFn:_,slimDOMOptions:m,dataURLOptions:g,inlineImages:M,recordCanvas:b,preserveWhiteSpace:B,onSerialize:q,onIframeLoad:P,iframeLoadTimeout:H,keepIframeSrcFn:Q},lt=0,Dt=Array.from(t.childNodes);lt<Dt.length;lt++){var vt=Dt[lt],it=ie(vt,pt);it&&D.childNodes.push(it)}if(Zs(t)&&t.shadowRoot)for(var Y=0,_t=Array.from(t.shadowRoot.childNodes);Y<_t.length;Y++){var vt=_t[Y],it=ie(vt,pt);it&&(it.isShadow=!0,D.childNodes.push(it))}}return t.parentNode&&re(t.parentNode)&&(D.isShadow=!0),D.type===Z.Element&&D.tagName==="iframe"&&fo(t,function(){var yt=t.contentDocument;if(yt&&P){var ct=ie(yt,{doc:yt,map:r,blockClass:a,blockSelector:i,unblockSelector:s,maskTextClass:o,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:p,maskInputSelector:d,unmaskInputSelector:w,maskInputOptions:k,maskTextFn:y,maskInputFn:_,slimDOMOptions:m,dataURLOptions:g,inlineImages:M,recordCanvas:b,preserveWhiteSpace:B,onSerialize:q,onIframeLoad:P,iframeLoadTimeout:H,keepIframeSrcFn:Q});ct&&P(t,ct)}},H),D}function _o(t,e){var n=e||{},r=n.blockClass,a=r===void 0?"rr-block":r,i=n.blockSelector,s=i===void 0?null:i,o=n.unblockSelector,c=o===void 0?null:o,u=n.maskTextClass,l=u===void 0?"rr-mask":u,f=n.maskTextSelector,h=f===void 0?null:f,p=n.unmaskTextSelector,d=p===void 0?null:p,w=n.inlineStylesheet,E=w===void 0?!0:w,k=n.inlineImages,y=k===void 0?!1:k,_=n.recordCanvas,m=_===void 0?!1:_,x=n.maskInputSelector,g=x===void 0?null:x,A=n.unmaskInputSelector,M=A===void 0?null:A,O=n.maskAllInputs,b=O===void 0?!1:O,q=n.maskTextFn,P=n.maskInputFn,z=n.slimDOM,H=z===void 0?!1:z,nt=n.dataURLOptions,Q=n.preserveWhiteSpace,V=n.onSerialize,B=n.onIframeLoad,G=n.iframeLoadTimeout,rt=n.keepIframeSrcFn,D=rt===void 0?function(){return!1}:rt,ot={},pt=b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:b===!1?{password:!0}:b,lt=H===!0||H==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:H==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:H===!1?{}:H;return[ie(t,{doc:t,map:ot,blockClass:a,blockSelector:s,unblockSelector:c,maskTextClass:l,maskTextSelector:h,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:E,maskInputSelector:g,unmaskInputSelector:M,maskInputOptions:pt,maskTextFn:q,maskInputFn:P,slimDOMOptions:lt,dataURLOptions:nt,inlineImages:y,recordCanvas:m,preserveWhiteSpace:Q,onSerialize:V,onIframeLoad:B,iframeLoadTimeout:G,keepIframeSrcFn:D}),ot]}var L;(function(t){t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin"})(L||(L={}));var K;(function(t){t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration"})(K||(K={}));var xe;(function(t){t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel"})(xe||(xe={}));var Zt;(function(t){t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2"})(Zt||(Zt={}));var $n;(function(t){t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange"})($n||($n={}));var Hn;(function(t){t.Start="start",t.Pause="pause",t.Resume="resume",t.Resize="resize",t.Finish="finish",t.FullsnapshotRebuilded="fullsnapshot-rebuilded",t.LoadStylesheetStart="load-stylesheet-start",t.LoadStylesheetEnd="load-stylesheet-end",t.SkipStart="skip-start",t.SkipEnd="skip-end",t.MouseInteraction="mouse-interaction",t.EventCast="event-cast",t.CustomEvent="custom-event",t.Flush="flush",t.StateChange="state-change",t.PlayBack="play-back"})(Hn||(Hn={}));function st(t,e,n){n===void 0&&(n=document);var r={capture:!0,passive:!0};return n.addEventListener(t,e,r),function(){return n.removeEventListener(t,e,r)}}function mo(){return{map:{},getId:function(t){return!t||!t.__sn?-1:t.__sn.id},getNode:function(t){return this.map[t]||null},removeNodeFromMap:function(t){var e=this,n=t.__sn&&t.__sn.id;delete this.map[n],t.childNodes&&t.childNodes.forEach(function(r){return e.removeNodeFromMap(r)})},has:function(t){return this.map.hasOwnProperty(t)},reset:function(){this.map={}}}}var Lt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,jn={map:{},getId:function(){return console.error(Lt),-1},getNode:function(){return console.error(Lt),null},removeNodeFromMap:function(){console.error(Lt)},has:function(){return console.error(Lt),!1},reset:function(){console.error(Lt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(jn=new Proxy(jn,{get:function(t,e,n){return e==="map"&&console.error(Lt),Reflect.get(t,e,n)}}));function ue(t,e,n){n===void 0&&(n={});var r=null,a=0;return function(i){var s=Date.now();!a&&n.leading===!1&&(a=s);var o=e-(s-a),c=this,u=arguments;o<=0||o>e?(r&&(clearTimeout(r),r=null),a=s,t.apply(c,u)):!r&&n.trailing!==!1&&(r=setTimeout(function(){a=n.leading===!1?0:Date.now(),r=null,t.apply(c,u)},o))}}function Le(t,e,n,r,a){a===void 0&&(a=window);var i=a.Object.getOwnPropertyDescriptor(t,e);return a.Object.defineProperty(t,e,r?n:{set:function(s){var o=this;setTimeout(function(){n.set.call(o,s)},0),i&&i.set&&i.set.call(this,s)}}),function(){return Le(t,e,i||{},!0)}}function qt(t,e,n){try{if(!(e in t))return function(){};var r=t[e],a=n(r);return typeof a=="function"&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=a,function(){t[e]=r}}catch{return function(){}}}function Wr(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Zr(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function et(t,e){if(!t)return!1;if(t.nodeType===t.ELEMENT_NODE){var n=!1;if(typeof e=="string"){if(t.closest!==void 0)return t.closest("."+e)!==null;n=t.classList.contains(e)}else t.classList.forEach(function(r){e.test(r)&&(n=!0)});return n||et(t.parentNode,e)}return t.nodeType===t.TEXT_NODE,et(t.parentNode,e)}function $e(t){return"__sn"in t?t.__sn.id===ce:!1}function qr(t,e){if(re(t))return!1;var n=e.getId(t);return e.has(n)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?qr(t.parentNode,e):!0:!0}function Vr(t){return Boolean(t.changedTouches)}function go(t){t===void 0&&(t=window),"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(n){if(!(0 in arguments))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Xr(t){return"__sn"in t?t.__sn.type===Z.Element&&t.__sn.tagName==="iframe":!1}function Kr(t){return Boolean(t==null?void 0:t.shadowRoot)}function Wn(t){return"__ln"in t}var vo=function(){function t(){this.length=0,this.head=null}return t.prototype.get=function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var n=this.head,r=0;r<e;r++)n=(n==null?void 0:n.next)||null;return n},t.prototype.addNode=function(e){var n={value:e,previous:null,next:null};if(e.__ln=n,e.previousSibling&&Wn(e.previousSibling)){var r=e.previousSibling.__ln.next;n.next=r,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(e.nextSibling&&Wn(e.nextSibling)&&e.nextSibling.__ln.previous){var r=e.nextSibling.__ln.previous;n.previous=r,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;this.length++},t.prototype.removeNode=function(e){var n=e.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next&&(n.next.previous=n.previous)):(this.head=n.next,this.head&&(this.head.previous=null)),e.__ln&&delete e.__ln,this.length--)},t}(),Zn=function(t,e){return"".concat(t,"@").concat(e)};function qn(t){return"__sn"in t}var yo=function(){function t(){var e=this;this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(n){n.forEach(e.processMutation),e.emit()},this.emit=function(){var n,r,a,i;if(!(e.frozen||e.locked)){for(var s=[],o=new vo,c=function(g){for(var A=g,M=ce;M===ce;)A=A&&A.nextSibling,M=A&&e.mirror.getId(A);return M},u=function(g){for(var A,M,O,b,q,P=g.getRootNode?(A=g.getRootNode())===null||A===void 0?void 0:A.host:null,z=P;!((O=(M=z==null?void 0:z.getRootNode)===null||M===void 0?void 0:M.call(z))===null||O===void 0)&&O.host;)z=((q=(b=z==null?void 0:z.getRootNode)===null||b===void 0?void 0:b.call(z))===null||q===void 0?void 0:q.host)||null;var H=!e.doc.contains(g)&&(z===null||!e.doc.contains(z));if(!(!g.parentNode||H)){var nt=re(g.parentNode)?e.mirror.getId(P):e.mirror.getId(g.parentNode),Q=c(g);if(nt===-1||Q===-1)return o.addNode(g);var V=ie(g,{doc:e.doc,map:e.mirror.map,blockClass:e.blockClass,blockSelector:e.blockSelector,unblockSelector:e.unblockSelector,maskTextClass:e.maskTextClass,maskTextSelector:e.maskTextSelector,unmaskTextSelector:e.unmaskTextSelector,maskInputSelector:e.maskInputSelector,unmaskInputSelector:e.unmaskInputSelector,skipChild:!0,inlineStylesheet:e.inlineStylesheet,maskInputOptions:e.maskInputOptions,maskTextFn:e.maskTextFn,maskInputFn:e.maskInputFn,slimDOMOptions:e.slimDOMOptions,recordCanvas:e.recordCanvas,inlineImages:e.inlineImages,onSerialize:function(B){Xr(B)&&e.iframeManager.addIframe(B),Kr(g)&&e.shadowDomManager.addShadowRoot(g.shadowRoot,document)},onIframeLoad:function(B,G){e.iframeManager.attachIframe(B,G),e.shadowDomManager.observeAttachShadow(B)}});V&&s.push({parentId:nt,nextId:Q,node:V})}};e.mapRemoves.length;)e.mirror.removeNodeFromMap(e.mapRemoves.shift());try{for(var l=bt(e.movedSet),f=l.next();!f.done;f=l.next()){var h=f.value;tn(e.removes,h,e.mirror)&&!e.movedSet.has(h.parentNode)||u(h)}}catch(g){n={error:g}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var p=bt(e.addedSet),d=p.next();!d.done;d=p.next()){var h=d.value;!en(e.droppedSet,h)&&!tn(e.removes,h,e.mirror)||en(e.movedSet,h)?u(h):e.droppedSet.add(h)}}catch(g){a={error:g}}finally{try{d&&!d.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}for(var w=null;o.length;){var E=null;if(w){var k=e.mirror.getId(w.value.parentNode),y=c(w.value);k!==-1&&y!==-1&&(E=w)}if(!E)for(var _=o.length-1;_>=0;_--){var m=o.get(_);if(m){var k=e.mirror.getId(m.value.parentNode),y=c(m.value);if(k!==-1&&y!==-1){E=m;break}}}if(!E){for(;o.head;)o.removeNode(o.head.value);break}w=E.previous,o.removeNode(E.value),u(E.value)}var x={texts:e.texts.map(function(g){return{id:e.mirror.getId(g.node),value:g.value}}).filter(function(g){return e.mirror.has(g.id)}),attributes:e.attributes.map(function(g){return{id:e.mirror.getId(g.node),attributes:g.attributes}}).filter(function(g){return e.mirror.has(g.id)}),removes:e.removes,adds:s};!x.texts.length&&!x.attributes.length&&!x.removes.length&&!x.adds.length||(e.texts=[],e.attributes=[],e.removes=[],e.addedSet=new Set,e.movedSet=new Set,e.droppedSet=new Set,e.movedMap={},e.mutationCb(x))}},this.processMutation=function(n){var r,a,i,s;if(!$e(n.target))switch(n.type){case"characterData":{var o=n.target.textContent;!et(n.target,e.blockClass)&&o!==n.oldValue&&e.texts.push({value:ae(n.target,e.maskTextClass,e.maskTextSelector,e.unmaskTextSelector)&&o?e.maskTextFn?e.maskTextFn(o):o.replace(/[\S]/g,"*"):o,node:n.target});break}case"attributes":{var c=n.target,o=n.target.getAttribute(n.attributeName);if(n.attributeName==="value"&&(o=pn({input:c,maskInputSelector:e.maskInputSelector,unmaskInputSelector:e.unmaskInputSelector,maskInputOptions:e.maskInputOptions,tagName:n.target.tagName,type:n.target.getAttribute("type"),value:o,maskInputFn:e.maskInputFn})),et(n.target,e.blockClass)||o===n.oldValue)return;var u=e.attributes.find(function(m){return m.node===n.target});if(u||(u={node:n.target,attributes:{}},e.attributes.push(u)),n.attributeName==="style"){var l=e.doc.createElement("span");n.oldValue&&l.setAttribute("style",n.oldValue),(u.attributes.style===void 0||u.attributes.style===null)&&(u.attributes.style={});try{var f=u.attributes.style;try{for(var h=bt(Array.from(c.style)),p=h.next();!p.done;p=h.next()){var d=p.value,w=c.style.getPropertyValue(d),E=c.style.getPropertyPriority(d);(w!==l.style.getPropertyValue(d)||E!==l.style.getPropertyPriority(d))&&(E===""?f[d]=w:f[d]=[w,E])}}catch(m){r={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}try{for(var k=bt(Array.from(l.style)),y=k.next();!y.done;y=k.next()){var d=y.value;c.style.getPropertyValue(d)===""&&(f[d]=!1)}}catch(m){i={error:m}}finally{try{y&&!y.done&&(s=k.return)&&s.call(k)}finally{if(i)throw i.error}}}catch(m){console.warn("[rrweb] Error when parsing update to style attribute:",m)}}else u.attributes[n.attributeName]=jr(e.doc,n.target.tagName,n.attributeName,o);break}case"childList":{n.addedNodes.forEach(function(_){return e.genAdds(_,n.target)}),n.removedNodes.forEach(function(_){var m=e.mirror.getId(_),x=re(n.target)?e.mirror.getId(n.target.host):e.mirror.getId(n.target);et(n.target,e.blockClass)||$e(_)||(e.addedSet.has(_)?(Qe(e.addedSet,_),e.droppedSet.add(_)):e.addedSet.has(n.target)&&m===-1||qr(n.target,e.mirror)||(e.movedSet.has(_)&&e.movedMap[Zn(m,x)]?Qe(e.movedSet,_):e.removes.push({parentId:x,id:m,isShadow:re(n.target)?!0:void 0})),e.mapRemoves.push(_))});break}}},this.genAdds=function(n,r){if(!(r&&et(r,e.blockClass))){if(qn(n)){if($e(n))return;e.movedSet.add(n);var a=null;r&&qn(r)&&(a=r.__sn.id),a&&(e.movedMap[Zn(n.__sn.id,a)]=!0)}else e.addedSet.add(n),e.droppedSet.delete(n);et(n,e.blockClass)||n.childNodes.forEach(function(i){return e.genAdds(i)})}}}return t.prototype.init=function(e){var n=this;["mutationCb","blockClass","blockSelector","unblockSelector","maskTextClass","maskTextSelector","unmaskTextSelector","maskInputSelector","unmaskInputSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","recordCanvas","inlineImages","slimDOMOptions","doc","mirror","iframeManager","shadowDomManager","canvasManager"].forEach(function(r){n[r]=e[r]})},t.prototype.freeze=function(){this.frozen=!0,this.canvasManager.freeze()},t.prototype.unfreeze=function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()},t.prototype.isFrozen=function(){return this.frozen},t.prototype.lock=function(){this.locked=!0,this.canvasManager.lock()},t.prototype.unlock=function(){this.locked=!1,this.canvasManager.unlock(),this.emit()},t.prototype.reset=function(){this.shadowDomManager.reset(),this.canvasManager.reset()},t}();function Qe(t,e){t.delete(e),e.childNodes.forEach(function(n){return Qe(t,n)})}function tn(t,e,n){var r=e.parentNode;if(!r)return!1;var a=n.getId(r);return t.some(function(i){return i.id===a})?!0:tn(t,r,n)}function en(t,e){var n=e.parentNode;return n?t.has(n)?!0:en(t,n):!1}const bo=yo;var Tt=[],Jr=typeof CSSGroupingRule<"u",Qr=typeof CSSMediaRule<"u",ta=typeof CSSSupportsRule<"u",ea=typeof CSSConditionRule<"u";function pe(t){try{if("composedPath"in t){var e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function na(t,e){var n,r,a=new bo;Tt.push(a),a.init(t);var i=window.MutationObserver||window.__rrMutationObserver,s=(r=(n=window==null?void 0:window.Zone)===null||n===void 0?void 0:n.__symbol__)===null||r===void 0?void 0:r.call(n,"MutationObserver");s&&window[s]&&(i=window[s]);var o=new i(a.processMutations.bind(a));return o.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function So(t){var e=t.mousemoveCb,n=t.sampling,r=t.doc,a=t.mirror;if(n.mousemove===!1)return function(){};var i=typeof n.mousemove=="number"?n.mousemove:50,s=typeof n.mousemoveCallback=="number"?n.mousemoveCallback:500,o=[],c,u=ue(function(h){var p=Date.now()-c;e(o.map(function(d){return d.timeOffset-=p,d}),h),o=[],c=null},s),l=ue(function(h){var p=pe(h),d=Vr(h)?h.changedTouches[0]:h,w=d.clientX,E=d.clientY;c||(c=Date.now()),o.push({x:w,y:E,id:a.getId(p),timeOffset:Date.now()-c}),u(typeof DragEvent<"u"&&h instanceof DragEvent?K.Drag:h instanceof MouseEvent?K.MouseMove:K.TouchMove)},i,{trailing:!1}),f=[st("mousemove",l,r),st("touchmove",l,r),st("drag",l,r)];return function(){f.forEach(function(h){return h()})}}function wo(t){var e=t.mouseInteractionCb,n=t.doc,r=t.mirror,a=t.blockClass,i=t.sampling;if(i.mouseInteraction===!1)return function(){};var s=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,o=[],c=function(u){return function(l){var f=pe(l);if(!et(f,a)){var h=Vr(l)?l.changedTouches[0]:l;if(h){var p=r.getId(f),d=h.clientX,w=h.clientY;e({type:xe[u],id:p,x:d,y:w})}}}};return Object.keys(xe).filter(function(u){return Number.isNaN(Number(u))&&!u.endsWith("_Departed")&&s[u]!==!1}).forEach(function(u){var l=u.toLowerCase(),f=c(u);o.push(st(l,f,n))}),function(){o.forEach(function(u){return u()})}}function ra(t){var e=t.scrollCb,n=t.doc,r=t.mirror,a=t.blockClass,i=t.sampling,s=ue(function(o){var c=pe(o);if(!(!c||et(c,a))){var u=r.getId(c);if(c===n){var l=n.scrollingElement||n.documentElement;e({id:u,x:l.scrollLeft,y:l.scrollTop})}else e({id:u,x:c.scrollLeft,y:c.scrollTop})}},i.scroll||100);return st("scroll",s,n)}function Eo(t){var e=t.viewportResizeCb,n=-1,r=-1,a=ue(function(){var i=Wr(),s=Zr();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)},200);return st("resize",a,window)}function Vn(t,e){var n=F({},t);return e||delete n.userTriggered,n}var ko=["INPUT","TEXTAREA","SELECT"],Xn=new WeakMap;function xo(t){var e=t.inputCb,n=t.doc,r=t.mirror,a=t.blockClass,i=t.ignoreClass,s=t.ignoreSelector,o=t.maskInputSelector,c=t.unmaskInputSelector,u=t.maskInputOptions,l=t.maskInputFn,f=t.sampling,h=t.userTriggeredOnInput;function p(_){var m=pe(_),x=_.isTrusted;if(m&&m.tagName==="OPTION"&&(m=m.parentElement),!(!m||!m.tagName||ko.indexOf(m.tagName)<0||et(m,a))){var g=m.type;if(!(m.classList.contains(i)||s&&m.matches(s))){var A=m.value,M=!1;g==="radio"||g==="checkbox"?M=m.checked:(u[m.tagName.toLowerCase()]||u[g])&&(A=pn({input:m,maskInputOptions:u,maskInputSelector:o,unmaskInputSelector:c,tagName:m.tagName,type:g,value:A,maskInputFn:l})),d(m,Vn({text:A,isChecked:M,userTriggered:x},h));var O=m.name;g==="radio"&&O&&M&&n.querySelectorAll('input[type="radio"][name="'.concat(O,'"]')).forEach(function(b){b!==m&&d(b,Vn({text:b.value,isChecked:!M,userTriggered:!1},h))})}}}function d(_,m){var x=Xn.get(_);if(!x||x.text!==m.text||x.isChecked!==m.isChecked){Xn.set(_,m);var g=r.getId(_);e(F(F({},m),{id:g}))}}var w=f.input==="last"?["change"]:["input","change"],E=w.map(function(_){return st(_,p,n)}),k=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),y=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"],[HTMLOptionElement.prototype,"selected"]];return k&&k.set&&E.push.apply(E,N([],I(y.map(function(_){return Le(_[0],_[1],{set:function(){p({target:this})}})})),!1)),function(){E.forEach(function(_){return _()})}}function Re(t){var e=[];function n(r,a){if(Jr&&r.parentRule instanceof CSSGroupingRule||Qr&&r.parentRule instanceof CSSMediaRule||ta&&r.parentRule instanceof CSSSupportsRule||ea&&r.parentRule instanceof CSSConditionRule){var i=Array.from(r.parentRule.cssRules),s=i.indexOf(r);a.unshift(s)}else{var i=Array.from(r.parentStyleSheet.cssRules),s=i.indexOf(r);a.unshift(s)}return a}return n(t,e)}function Ro(t,e){var n=t.styleSheetRuleCb,r=t.mirror,a=e.win;if(!a.CSSStyleSheet||!a.CSSStyleSheet.prototype)return function(){};var i=a.CSSStyleSheet.prototype.insertRule;a.CSSStyleSheet.prototype.insertRule=function(u,l){var f=r.getId(this.ownerNode);return f!==-1&&n({id:f,adds:[{rule:u,index:l}]}),i.apply(this,arguments)};var s=a.CSSStyleSheet.prototype.deleteRule;a.CSSStyleSheet.prototype.deleteRule=function(u){var l=r.getId(this.ownerNode);return l!==-1&&n({id:l,removes:[{index:u}]}),s.apply(this,arguments)};var o={};Jr?o.CSSGroupingRule=a.CSSGroupingRule:(Qr&&(o.CSSMediaRule=a.CSSMediaRule),ea&&(o.CSSConditionRule=a.CSSConditionRule),ta&&(o.CSSSupportsRule=a.CSSSupportsRule));var c={};return Object.entries(o).forEach(function(u){var l=I(u,2),f=l[0],h=l[1];c[f]={insertRule:h.prototype.insertRule,deleteRule:h.prototype.deleteRule},h.prototype.insertRule=function(p,d){var w=r.getId(this.parentStyleSheet.ownerNode);return w!==-1&&n({id:w,adds:[{rule:p,index:N(N([],I(Re(this)),!1),[d||0],!1)}]}),c[f].insertRule.apply(this,arguments)},h.prototype.deleteRule=function(p){var d=r.getId(this.parentStyleSheet.ownerNode);return d!==-1&&n({id:d,removes:[{index:N(N([],I(Re(this)),!1),[p],!1)}]}),c[f].deleteRule.apply(this,arguments)}}),function(){a.CSSStyleSheet.prototype.insertRule=i,a.CSSStyleSheet.prototype.deleteRule=s,Object.entries(o).forEach(function(u){var l=I(u,2),f=l[0],h=l[1];h.prototype.insertRule=c[f].insertRule,h.prototype.deleteRule=c[f].deleteRule})}}function To(t,e){var n=t.styleDeclarationCb,r=t.mirror,a=e.win,i=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=function(o,c,u){var l,f,h=r.getId((f=(l=this.parentRule)===null||l===void 0?void 0:l.parentStyleSheet)===null||f===void 0?void 0:f.ownerNode);return h!==-1&&n({id:h,set:{property:o,value:c,priority:u},index:Re(this.parentRule)}),i.apply(this,arguments)};var s=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=function(o){var c,u,l=r.getId((u=(c=this.parentRule)===null||c===void 0?void 0:c.parentStyleSheet)===null||u===void 0?void 0:u.ownerNode);return l!==-1&&n({id:l,remove:{property:o},index:Re(this.parentRule)}),s.apply(this,arguments)},function(){a.CSSStyleDeclaration.prototype.setProperty=i,a.CSSStyleDeclaration.prototype.removeProperty=s}}function Io(t){var e=t.mediaInteractionCb,n=t.blockClass,r=t.mirror,a=t.sampling,i=function(o){return ue(function(c){var u=pe(c);if(!(!u||et(u,n))){var l=u,f=l.currentTime,h=l.volume,p=l.muted;e({type:o,id:r.getId(u),currentTime:f,volume:h,muted:p})}},a.media||500)},s=[st("play",i(0)),st("pause",i(1)),st("seeked",i(2)),st("volumechange",i(3))];return function(){s.forEach(function(o){return o()})}}function No(t){var e=t.fontCb,n=t.doc,r=n.defaultView;if(!r)return function(){};var a=[],i=new WeakMap,s=r.FontFace;r.FontFace=function(u,l,f){var h=new s(u,l,f);return i.set(h,{family:u,buffer:typeof l!="string",descriptors:f,fontSource:typeof l=="string"?l:JSON.stringify(Array.from(new Uint8Array(l)))}),h};var o=qt(n.fonts,"add",function(c){return function(u){return setTimeout(function(){var l=i.get(u);l&&(e(l),i.delete(u))},0),c.apply(this,[u])}});return a.push(function(){r.FontFace=s}),a.push(o),function(){a.forEach(function(c){return c()})}}function Co(t,e){var n=t.mutationCb,r=t.mousemoveCb,a=t.mouseInteractionCb,i=t.scrollCb,s=t.viewportResizeCb,o=t.inputCb,c=t.mediaInteractionCb,u=t.styleSheetRuleCb,l=t.styleDeclarationCb,f=t.canvasMutationCb,h=t.fontCb;t.mutationCb=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];e.mutation&&e.mutation.apply(e,N([],I(p),!1)),n.apply(void 0,N([],I(p),!1))},t.mousemoveCb=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];e.mousemove&&e.mousemove.apply(e,N([],I(p),!1)),r.apply(void 0,N([],I(p),!1))},t.mouseInteractionCb=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];e.mouseInteraction&&e.mouseInteraction.apply(e,N([],I(p),!1)),a.apply(void 0,N([],I(p),!1))},t.scrollCb=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];e.scroll&&e.scroll.apply(e,N([],I(p),!1)),i.apply(void 0,N([],I(p),!1))},t.viewportResizeCb=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];e.viewportResize&&e.viewportResize.apply(e,N([],I(p),!1)),s.apply(void 0,N([],I(p),!1))},t.inputCb=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];e.input&&e.input.apply(e,N([],I(p),!1)),o.apply(void 0,N([],I(p),!1))},t.mediaInteractionCb=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];e.mediaInteaction&&e.mediaInteaction.apply(e,N([],I(p),!1)),c.apply(void 0,N([],I(p),!1))},t.styleSheetRuleCb=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];e.styleSheetRule&&e.styleSheetRule.apply(e,N([],I(p),!1)),u.apply(void 0,N([],I(p),!1))},t.styleDeclarationCb=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];e.styleDeclaration&&e.styleDeclaration.apply(e,N([],I(p),!1)),l.apply(void 0,N([],I(p),!1))},t.canvasMutationCb=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];e.canvasMutation&&e.canvasMutation.apply(e,N([],I(p),!1)),f.apply(void 0,N([],I(p),!1))},t.fontCb=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];e.font&&e.font.apply(e,N([],I(p),!1)),h.apply(void 0,N([],I(p),!1))}}function Oo(t,e){var n,r;e===void 0&&(e={});var a=t.doc.defaultView;if(!a)return function(){};Co(t,e);var i=na(t,t.doc),s=So(t),o=wo(t),c=ra(t),u=Eo(t),l=xo(t),f=Io(t),h=Ro(t,{win:a}),p=To(t,{win:a}),d=t.collectFonts?No(t):function(){},w=[];try{for(var E=bt(t.plugins),k=E.next();!k.done;k=E.next()){var y=k.value;w.push(y.observer(y.callback,a,y.options))}}catch(_){n={error:_}}finally{try{k&&!k.done&&(r=E.return)&&r.call(E)}finally{if(n)throw n.error}}return function(){Tt.forEach(function(_){return _.reset()}),i.disconnect(),s(),o(),c(),u(),l(),f();try{h(),p()}catch{}d(),w.forEach(function(_){return _()})}}var Ao=function(){function t(e){this.iframes=new WeakMap,this.mutationCb=e.mutationCb}return t.prototype.addIframe=function(e){this.iframes.set(e,!0)},t.prototype.addLoadListener=function(e){this.loadListener=e},t.prototype.attachIframe=function(e,n){var r;this.mutationCb({adds:[{parentId:e.__sn.id,nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(r=this.loadListener)===null||r===void 0||r.call(this,e)},t}(),Do=function(){function t(e){this.restorePatches=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror;var n=this;this.restorePatches.push(qt(HTMLElement.prototype,"attachShadow",function(r){return function(){var a=r.apply(this,arguments);return this.shadowRoot&&n.addShadowRoot(this.shadowRoot,this.ownerDocument),a}}))}return t.prototype.addShadowRoot=function(e,n){na(F(F({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e),ra(F(F({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))},t.prototype.observeAttachShadow=function(e){if(e.contentWindow){var n=this;this.restorePatches.push(qt(e.contentWindow.HTMLElement.prototype,"attachShadow",function(r){return function(){var a=r.apply(this,arguments);return this.shadowRoot&&n.addShadowRoot(this.shadowRoot,e.contentDocument),a}}))}},t.prototype.reset=function(){this.restorePatches.forEach(function(e){return e()})},t}();function Uo(t,e,n,r){var a,i,s=[],o=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype),c=function(h){try{if(typeof e.CanvasRenderingContext2D.prototype[h]!="function")return"continue";var p=qt(e.CanvasRenderingContext2D.prototype,h,function(w){return function(){for(var E=this,k=[],y=0;y<arguments.length;y++)k[y]=arguments[y];return et(this.canvas,n)||setTimeout(function(){var _=N([],I(k),!1);if(h==="drawImage"&&_[0]&&_[0]instanceof HTMLCanvasElement){var m=_[0],x=m.getContext("2d"),g=x==null?void 0:x.getImageData(0,0,m.width,m.height),A=g==null?void 0:g.data;_[0]=JSON.stringify(A)}t(E.canvas,{type:Zt["2D"],property:h,args:_})},0),w.apply(this,k)}});s.push(p)}catch{var d=Le(e.CanvasRenderingContext2D.prototype,h,{set:function(E){t(this.canvas,{type:Zt["2D"],property:h,args:[E],setter:!0})}});s.push(d)}};try{for(var u=bt(o),l=u.next();!l.done;l=u.next()){var f=l.value;c(f)}}catch(h){a={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}return function(){s.forEach(function(h){return h()})}}function Lo(t,e){var n=[];try{var r=qt(t.HTMLCanvasElement.prototype,"getContext",function(a){return function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return et(this,e)||"__context"in this||(this.__context=i),a.apply(this,N([i],I(s),!1))}});n.push(r)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){n.forEach(function(a){return a()})}}var Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ve=0;ve<Ft.length;ve++)Mo[Ft.charCodeAt(ve)]=ve;var zo=function(t){var e=new Uint8Array(t),n,r=e.length,a="";for(n=0;n<r;n+=3)a+=Ft[e[n]>>2],a+=Ft[(e[n]&3)<<4|e[n+1]>>4],a+=Ft[(e[n+1]&15)<<2|e[n+2]>>6],a+=Ft[e[n+2]&63];return r%3===2?a=a.substring(0,a.length-1)+"=":r%3===1&&(a=a.substring(0,a.length-2)+"=="),a},Kn=new Map;function Fo(t,e){var n=Kn.get(t);return n||(n=new Map,Kn.set(t,n)),n.has(e)||n.set(e,[]),n.get(e)}var aa=function(t,e,n){if(!(!t||!(ia(t,e)||typeof t=="object"))){var r=t.constructor.name,a=Fo(n,r),i=a.indexOf(t);return i===-1&&(i=a.length,a.push(t)),i}};function be(t,e,n){if(t instanceof Array)return t.map(function(h){return be(h,e,n)});if(t===null)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray){var r=t.constructor.name;return{rr_type:r,args:[Object.values(t)]}}else if(t instanceof ArrayBuffer){var a=t.constructor.name,i=zo(t);return{rr_type:a,base64:i}}else if(t instanceof DataView){var s=t.constructor.name;return{rr_type:s,args:[be(t.buffer,e,n),t.byteOffset,t.byteLength]}}else if(t instanceof HTMLImageElement){var o=t.constructor.name,c=t.src;return{rr_type:o,src:c}}else if(t instanceof ImageData){var u=t.constructor.name;return{rr_type:u,args:[be(t.data,e,n),t.width,t.height]}}else if(ia(t,e)||typeof t=="object"){var l=t.constructor.name,f=aa(t,e,n);return{rr_type:l,index:f}}return t}var Bo=function(t,e,n){return N([],I(t),!1).map(function(r){return be(r,e,n)})},ia=function(t,e){var n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"],r=n.filter(function(a){return typeof e[a]=="function"});return Boolean(r.find(function(a){return t instanceof e[a]}))};function Jn(t,e,n,r,a,i){var s,o,c=[],u=Object.getOwnPropertyNames(t),l=function(d){try{if(typeof t[d]!="function")return"continue";var w=qt(t,d,function(k){return function(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];var m=k.apply(this,y);if(aa(m,i,t),!et(this.canvas,r)){var x=a.getId(this.canvas),g=Bo(N([],I(y),!1),i,t),A={type:e,property:d,args:g};n(this.canvas,A)}return m}});c.push(w)}catch{var E=Le(t,d,{set:function(y){n(this.canvas,{type:e,property:d,args:[y],setter:!0})}});c.push(E)}};try{for(var f=bt(u),h=f.next();!h.done;h=f.next()){var p=h.value;l(p)}}catch(d){s={error:d}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(s)throw s.error}}return c}function Po(t,e,n,r){var a=[];return a.push.apply(a,N([],I(Jn(e.WebGLRenderingContext.prototype,Zt.WebGL,t,n,r,e)),!1)),typeof e.WebGL2RenderingContext<"u"&&a.push.apply(a,N([],I(Jn(e.WebGL2RenderingContext.prototype,Zt.WebGL2,t,n,r,e)),!1)),function(){a.forEach(function(i){return i()})}}var Go=function(){function t(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=function(n,r){var a=this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId;(a||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(n)||this.pendingCanvasMutations.set(n,[]),this.pendingCanvasMutations.get(n).push(r)},this.mutationCb=e.mutationCb,this.mirror=e.mirror,e.recordCanvas===!0&&this.initCanvasMutationObserver(e.win,e.blockClass)}return t.prototype.reset=function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()},t.prototype.freeze=function(){this.frozen=!0},t.prototype.unfreeze=function(){this.frozen=!1},t.prototype.lock=function(){this.locked=!0},t.prototype.unlock=function(){this.locked=!1},t.prototype.initCanvasMutationObserver=function(e,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var r=Lo(e,n),a=Uo(this.processMutation.bind(this),e,n,this.mirror),i=Po(this.processMutation.bind(this),e,n,this.mirror);this.resetObservers=function(){r(),a(),i()}},t.prototype.startPendingCanvasMutationFlusher=function(){var e=this;requestAnimationFrame(function(){return e.flushPendingCanvasMutations()})},t.prototype.startRAFTimestamping=function(){var e=this,n=function(r){e.rafStamps.latestId=r,requestAnimationFrame(n)};requestAnimationFrame(n)},t.prototype.flushPendingCanvasMutations=function(){var e=this;this.pendingCanvasMutations.forEach(function(n,r){var a=e.mirror.getId(r);e.flushPendingCanvasMutationFor(r,a)}),requestAnimationFrame(function(){return e.flushPendingCanvasMutations()})},t.prototype.flushPendingCanvasMutationFor=function(e,n){if(!(this.frozen||this.locked)){var r=this.pendingCanvasMutations.get(e);if(!(!r||n===-1)){var a=r.map(function(s){s.type;var o=Ws(s,["type"]);return o}),i=r[0].type;this.mutationCb({id:n,type:i,commands:a}),this.pendingCanvasMutations.delete(e)}}},t}();function X(t){return F(F({},t),{timestamp:Date.now()})}var $,se,ne=mo();function wt(t){t===void 0&&(t={});var e=t.emit,n=t.checkoutEveryNms,r=t.checkoutEveryNth,a=t.blockClass,i=a===void 0?"rr-block":a,s=t.blockSelector,o=s===void 0?null:s,c=t.unblockSelector,u=c===void 0?null:c,l=t.ignoreClass,f=l===void 0?"rr-ignore":l,h=t.ignoreSelector,p=h===void 0?null:h,d=t.maskTextClass,w=d===void 0?"rr-mask":d,E=t.maskTextSelector,k=E===void 0?null:E,y=t.maskInputSelector,_=y===void 0?null:y,m=t.unmaskTextSelector,x=m===void 0?null:m,g=t.unmaskInputSelector,A=g===void 0?null:g,M=t.inlineStylesheet,O=M===void 0?!0:M,b=t.maskAllInputs,q=t.maskInputOptions,P=t.slimDOMOptions,z=t.maskInputFn,H=t.maskTextFn,nt=t.hooks,Q=t.packFn,V=t.sampling,B=V===void 0?{}:V,G=t.mousemoveWait,rt=t.recordCanvas,D=rt===void 0?!1:rt,ot=t.userTriggeredOnInput,pt=ot===void 0?!1:ot,lt=t.collectFonts,Dt=lt===void 0?!1:lt,vt=t.inlineImages,it=vt===void 0?!1:vt,Y=t.plugins,_t=t.keepIframeSrcFn,yt=_t===void 0?function(){return!1}:_t;if(!e)throw new Error("emit function is required");G!==void 0&&B.mousemove===void 0&&(B.mousemove=G);var ct=b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:q!==void 0?q:{password:!0},Me=P===!0||P==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:P==="all",headMetaDescKeywords:P==="all"}:P||{};go();var yn,ze=0,wa=function(T){var tt,C;try{for(var at=bt(Y||[]),dt=at.next();!dt.done;dt=at.next()){var Et=dt.value;Et.eventProcessor&&(T=Et.eventProcessor(T))}}catch(me){tt={error:me}}finally{try{dt&&!dt.done&&(C=at.return)&&C.call(at)}finally{if(tt)throw tt.error}}return Q&&(T=Q(T)),T};$=function(T,tt){var C;if(!((C=Tt[0])===null||C===void 0)&&C.isFrozen()&&T.type!==L.FullSnapshot&&!(T.type===L.IncrementalSnapshot&&T.data.source===K.Mutation)&&Tt.forEach(function(Et){return Et.unfreeze()}),e(wa(T),tt),T.type===L.FullSnapshot)yn=T,ze=0;else if(T.type===L.IncrementalSnapshot){if(T.data.source===K.Mutation&&T.data.isAttachIframe)return;ze++;var at=r&&ze>=r,dt=n&&T.timestamp-yn.timestamp>n;(at||dt)&&se(!0)}};var Fe=function(T){$(X({type:L.IncrementalSnapshot,data:F({source:K.Mutation},T)}))},bn=function(T){return $(X({type:L.IncrementalSnapshot,data:F({source:K.Scroll},T)}))},Sn=function(T){return $(X({type:L.IncrementalSnapshot,data:F({source:K.CanvasMutation},T)}))},Jt=new Ao({mutationCb:Fe}),wn=new Go({recordCanvas:D,mutationCb:Sn,win:window,blockClass:i,mirror:ne}),Be=new Do({mutationCb:Fe,scrollCb:bn,bypassOptions:{blockClass:i,blockSelector:o,unblockSelector:u,maskTextClass:w,maskTextSelector:k,unmaskTextSelector:x,maskInputSelector:_,unmaskInputSelector:A,inlineStylesheet:O,maskInputOptions:ct,maskTextFn:H,maskInputFn:z,recordCanvas:D,inlineImages:it,sampling:B,slimDOMOptions:Me,iframeManager:Jt,canvasManager:wn},mirror:ne});se=function(T){var tt,C,at,dt;T===void 0&&(T=!1),$(X({type:L.Meta,data:{href:window.location.href,width:Zr(),height:Wr()}}),T),Tt.forEach(function(ft){return ft.lock()});var Et=I(_o(document,{blockClass:i,blockSelector:o,unblockSelector:u,maskTextClass:w,maskTextSelector:k,unmaskTextSelector:x,maskInputSelector:_,unmaskInputSelector:A,inlineStylesheet:O,maskAllInputs:ct,maskTextFn:H,slimDOM:Me,recordCanvas:D,inlineImages:it,onSerialize:function(ft){Xr(ft)&&Jt.addIframe(ft),Kr(ft)&&Be.addShadowRoot(ft.shadowRoot,document)},onIframeLoad:function(ft,ka){Jt.attachIframe(ft,ka),Be.observeAttachShadow(ft)},keepIframeSrcFn:yt}),2),me=Et[0],Ea=Et[1];if(!me)return console.warn("Failed to snapshot the document");ne.map=Ea,$(X({type:L.FullSnapshot,data:{node:me,initialOffset:{left:window.pageXOffset!==void 0?window.pageXOffset:(document==null?void 0:document.documentElement.scrollLeft)||((C=(tt=document==null?void 0:document.body)===null||tt===void 0?void 0:tt.parentElement)===null||C===void 0?void 0:C.scrollLeft)||(document==null?void 0:document.body.scrollLeft)||0,top:window.pageYOffset!==void 0?window.pageYOffset:(document==null?void 0:document.documentElement.scrollTop)||((dt=(at=document==null?void 0:document.body)===null||at===void 0?void 0:at.parentElement)===null||dt===void 0?void 0:dt.scrollTop)||(document==null?void 0:document.body.scrollTop)||0}}})),Tt.forEach(function(ft){return ft.unlock()})};try{var Qt=[];Qt.push(st("DOMContentLoaded",function(){$(X({type:L.DomContentLoaded,data:{}}))}));var En=function(T){var tt;return Oo({mutationCb:Fe,mousemoveCb:function(C,at){return $(X({type:L.IncrementalSnapshot,data:{source:at,positions:C}}))},mouseInteractionCb:function(C){return $(X({type:L.IncrementalSnapshot,data:F({source:K.MouseInteraction},C)}))},scrollCb:bn,viewportResizeCb:function(C){return $(X({type:L.IncrementalSnapshot,data:F({source:K.ViewportResize},C)}))},inputCb:function(C){return $(X({type:L.IncrementalSnapshot,data:F({source:K.Input},C)}))},mediaInteractionCb:function(C){return $(X({type:L.IncrementalSnapshot,data:F({source:K.MediaInteraction},C)}))},styleSheetRuleCb:function(C){return $(X({type:L.IncrementalSnapshot,data:F({source:K.StyleSheetRule},C)}))},styleDeclarationCb:function(C){return $(X({type:L.IncrementalSnapshot,data:F({source:K.StyleDeclaration},C)}))},canvasMutationCb:Sn,fontCb:function(C){return $(X({type:L.IncrementalSnapshot,data:F({source:K.Font},C)}))},blockClass:i,ignoreClass:f,ignoreSelector:p,maskTextClass:w,maskTextSelector:k,unmaskTextSelector:x,maskInputSelector:_,unmaskInputSelector:A,maskInputOptions:ct,inlineStylesheet:O,sampling:B,recordCanvas:D,inlineImages:it,userTriggeredOnInput:pt,collectFonts:Dt,doc:T,maskInputFn:z,maskTextFn:H,blockSelector:o,unblockSelector:u,slimDOMOptions:Me,mirror:ne,iframeManager:Jt,shadowDomManager:Be,canvasManager:wn,plugins:((tt=Y==null?void 0:Y.filter(function(C){return C.observer}))===null||tt===void 0?void 0:tt.map(function(C){return{observer:C.observer,options:C.options,callback:function(at){return $(X({type:L.Plugin,data:{plugin:C.name,payload:at}}))}}}))||[]},nt)};Jt.addLoadListener(function(T){try{Qt.push(En(T.contentDocument))}catch(tt){console.warn(tt)}});var kn=function(){se(),Qt.push(En(document))};return document.readyState==="interactive"||document.readyState==="complete"?kn():Qt.push(st("load",function(){$(X({type:L.Load,data:{}})),kn()},window)),function(){Qt.forEach(function(T){return T()})}}catch(T){console.warn(T)}}wt.addCustomEvent=function(t,e){if(!$)throw new Error("please add custom event after start recording");$(X({type:L.Custom,data:{tag:t,payload:e}}))};wt.freezePage=function(){Tt.forEach(function(t){return t.freeze()})};wt.takeFullSnapshot=function(t){if(!se)throw new Error("please take full snapshot after start recording");se(t)};wt.mirror=ne;const Yo=["name","type","startTime","transferSize","duration"];function Qn(t){return function(e){return Yo.every(n=>t[n]===e[n])}}function $o(t,e){const[n,r,a]=t.reduce((c,u)=>(u.entryType==="navigation"?c[0].push(u):u.entryType==="largest-contentful-paint"?c[1].push(u):c[2].push(u),c),[[],[],[]]),i=[],s=[];let o=r.length?r[r.length-1]:void 0;return e.forEach(c=>{if(c.entryType==="largest-contentful-paint"){(!o||o.startTime<c.startTime)&&(o=c);return}if(c.entryType==="navigation"){const u=c;c.duration>0&&!n.find(Qn(u))&&!s.find(Qn(u))&&s.push(u);return}i.push(c)}),[...o?[o]:[],...n,...a,...i,...s].sort((c,u)=>c.startTime-u.startTime)}function Ho(t){const e=r=>{const a=$o(t.performanceEvents,r.getEntries());t.performanceEvents=a},n=new PerformanceObserver(e);return["element","event","first-input","largest-contentful-paint","layout-shift","longtask","navigation","paint","resource"].forEach(r=>{try{n.observe({type:r,buffered:!0})}catch{}}),n}const jo=`/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */
function t(t){let e=t.length;for(;--e>=0;)t[e]=0}const e=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),a=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),n=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Array(576);t(s);const r=new Array(60);t(r);const o=new Array(512);t(o);const l=new Array(256);t(l);const h=new Array(29);t(h);const d=new Array(30);function _(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}let f,c,u;function w(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}t(d);const m=t=>t<256?o[t]:o[256+(t>>>7)],b=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},g=(t,e,a)=>{t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},p=(t,e,a)=>{g(t,a[2*e],a[2*e+1])},k=(t,e)=>{let a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},v=(t,e,a)=>{const i=new Array(16);let n,s,r=0;for(n=1;n<=15;n++)r=r+a[n-1]<<1,i[n]=r;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=k(i[e]++,e))}},y=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},x=t=>{t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},z=(t,e,a,i)=>{const n=2*e,s=2*a;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[a]},A=(t,e,a)=>{const i=t.heap[a];let n=a<<1;for(;n<=t.heap_len&&(n<t.heap_len&&z(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!z(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i},E=(t,i,n)=>{let s,r,o,_,f=0;if(0!==t.sym_next)do{s=255&t.pending_buf[t.sym_buf+f++],s+=(255&t.pending_buf[t.sym_buf+f++])<<8,r=t.pending_buf[t.sym_buf+f++],0===s?p(t,r,i):(o=l[r],p(t,o+256+1,i),_=e[o],0!==_&&(r-=h[o],g(t,r,_)),s--,o=m(s),p(t,o,n),_=a[o],0!==_&&(s-=d[o],g(t,s,_)))}while(f<t.sym_next);p(t,256,i)},R=(t,e)=>{const a=e.dyn_tree,i=e.stat_desc.static_tree,n=e.stat_desc.has_stree,s=e.stat_desc.elems;let r,o,l,h=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<s;r++)0!==a[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=h<2?++h:0,a[2*l]=1,t.depth[l]=0,t.opt_len--,n&&(t.static_len-=i[2*l+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)A(t,a,r);l=s;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,a,1),o=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=o,a[2*l]=a[2*r]+a[2*o],t.depth[l]=(t.depth[r]>=t.depth[o]?t.depth[r]:t.depth[o])+1,a[2*r+1]=a[2*o+1]=l,t.heap[1]=l++,A(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const a=e.dyn_tree,i=e.max_code,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,r=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let h,d,_,f,c,u,w=0;for(f=0;f<=15;f++)t.bl_count[f]=0;for(a[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)d=t.heap[h],f=a[2*a[2*d+1]+1]+1,f>l&&(f=l,w++),a[2*d+1]=f,d>i||(t.bl_count[f]++,c=0,d>=o&&(c=r[d-o]),u=a[2*d],t.opt_len+=u*(f+c),s&&(t.static_len+=u*(n[2*d+1]+c)));if(0!==w){do{for(f=l-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,w-=2}while(w>0);for(f=l;0!==f;f--)for(d=t.bl_count[f];0!==d;)_=t.heap[--h],_>i||(a[2*_+1]!==f&&(t.opt_len+=(f-a[2*_+1])*a[2*_],a[2*_+1]=f),d--)}})(t,e),v(a,h,t.bl_count)},Z=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=r,r=e[2*(i+1)+1],++o<l&&n===r||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4))},U=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),i=0;i<=a;i++)if(n=r,r=e[2*(i+1)+1],!(++o<l&&n===r)){if(o<h)do{p(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==s&&(p(t,n,t.bl_tree),o--),p(t,16,t.bl_tree),g(t,o-3,2)):o<=10?(p(t,17,t.bl_tree),g(t,o-3,3)):(p(t,18,t.bl_tree),g(t,o-11,7));o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4)}};let S=!1;const D=(t,e,a,i)=>{g(t,0+(i?1:0),3),x(t),b(t,a),b(t,~a),a&&t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a};var T=(t,e,a,i)=>{let o,l,h=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),R(t,t.l_desc),R(t,t.d_desc),h=(t=>{let e;for(Z(t,t.dyn_ltree,t.l_desc.max_code),Z(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*n[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),o=t.opt_len+3+7>>>3,l=t.static_len+3+7>>>3,l<=o&&(o=l)):o=l=a+5,a+4<=o&&-1!==e?D(t,e,a,i):4===t.strategy||l===o?(g(t,2+(i?1:0),3),E(t,s,r)):(g(t,4+(i?1:0),3),((t,e,a,i)=>{let s;for(g(t,e-257,5),g(t,a-1,5),g(t,i-4,4),s=0;s<i;s++)g(t,t.bl_tree[2*n[s]+1],3);U(t,t.dyn_ltree,e-1),U(t,t.dyn_dtree,a-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),E(t,t.dyn_ltree,t.dyn_dtree)),y(t),i&&x(t)},O={_tr_init:t=>{S||((()=>{let t,n,w,m,b;const g=new Array(16);for(w=0,m=0;m<28;m++)for(h[m]=w,t=0;t<1<<e[m];t++)l[w++]=m;for(l[w-1]=m,b=0,m=0;m<16;m++)for(d[m]=b,t=0;t<1<<a[m];t++)o[b++]=m;for(b>>=7;m<30;m++)for(d[m]=b<<7,t=0;t<1<<a[m]-7;t++)o[256+b++]=m;for(n=0;n<=15;n++)g[n]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,g[8]++;for(;t<=255;)s[2*t+1]=9,t++,g[9]++;for(;t<=279;)s[2*t+1]=7,t++,g[7]++;for(;t<=287;)s[2*t+1]=8,t++,g[8]++;for(v(s,287,g),t=0;t<30;t++)r[2*t+1]=5,r[2*t]=k(t,5);f=new _(s,e,257,286,15),c=new _(r,a,0,30,15),u=new _(new Array(0),i,0,19,7)})(),S=!0),t.l_desc=new w(t.dyn_ltree,f),t.d_desc=new w(t.dyn_dtree,c),t.bl_desc=new w(t.bl_tree,u),t.bi_buf=0,t.bi_valid=0,y(t)},_tr_stored_block:D,_tr_flush_block:T,_tr_tally:(t,e,a)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=a,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(l[a]+256+1)]++,t.dyn_dtree[2*m(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{g(t,2,3),p(t,256,s),(t=>{16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var F=(t,e,a,i)=>{let n=65535&t|0,s=t>>>16&65535|0,r=0;for(;0!==a;){r=a>2e3?2e3:a,a-=r;do{n=n+e[i++]|0,s=s+n|0}while(--r);n%=65521,s%=65521}return n|s<<16|0};const L=new Uint32Array((()=>{let t,e=[];for(var a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e})());var N=(t,e,a,i)=>{const n=L,s=i+a;t^=-1;for(let a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t},I={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},B={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:C,_tr_stored_block:H,_tr_flush_block:M,_tr_tally:j,_tr_align:K}=O,{Z_NO_FLUSH:P,Z_PARTIAL_FLUSH:Y,Z_FULL_FLUSH:G,Z_FINISH:X,Z_BLOCK:W,Z_OK:q,Z_STREAM_END:J,Z_STREAM_ERROR:Q,Z_DATA_ERROR:V,Z_BUF_ERROR:$,Z_DEFAULT_COMPRESSION:tt,Z_FILTERED:et,Z_HUFFMAN_ONLY:at,Z_RLE:it,Z_FIXED:nt,Z_DEFAULT_STRATEGY:st,Z_UNKNOWN:rt,Z_DEFLATED:ot}=B,lt=(t,e)=>(t.msg=I[e],e),ht=t=>2*t-(t>4?9:0),dt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},_t=t=>{let e,a,i,n=t.w_size;e=t.hash_size,i=e;do{a=t.head[--i],t.head[i]=a>=n?a-n:0}while(--e);e=n,i=e;do{a=t.prev[--i],t.prev[i]=a>=n?a-n:0}while(--e)};let ft=(t,e,a)=>(e<<t.hash_shift^a)&t.hash_mask;const ct=t=>{const e=t.state;let a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},ut=(t,e)=>{M(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ct(t.strm)},wt=(t,e)=>{t.pending_buf[t.pending++]=e},mt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},bt=(t,e,a,i)=>{let n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,e.set(t.input.subarray(t.next_in,t.next_in+n),a),1===t.state.wrap?t.adler=F(t.adler,e,n,a):2===t.state.wrap&&(t.adler=N(t.adler,e,n,a)),t.next_in+=n,t.total_in+=n,n)},gt=(t,e)=>{let a,i,n=t.max_chain_length,s=t.strstart,r=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,h=t.window,d=t.w_mask,_=t.prev,f=t.strstart+258;let c=h[s+r-1],u=h[s+r];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(a=e,h[a+r]===u&&h[a+r-1]===c&&h[a]===h[s]&&h[++a]===h[s+1]){s+=2,a++;do{}while(h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&s<f);if(i=258-(f-s),s=f-258,i>r){if(t.match_start=e,r=i,i>=o)break;c=h[s+r-1],u=h[s+r]}}}while((e=_[e&d])>l&&0!=--n);return r<=t.lookahead?r:t.lookahead},pt=t=>{const e=t.w_size;let a,i,n;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),_t(t),i+=e),0===t.strm.avail_in)break;if(a=bt(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=a,t.lookahead+t.insert>=3)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=ft(t,t.ins_h,t.window[n+1]);t.insert&&(t.ins_h=ft(t,t.ins_h,t.window[n+3-1]),t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},kt=(t,e)=>{let a,i,n,s=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r=0,o=t.strm.avail_in;do{if(a=65535,n=t.bi_valid+42>>3,t.strm.avail_out<n)break;if(n=t.strm.avail_out-n,i=t.strstart-t.block_start,a>i+t.strm.avail_in&&(a=i+t.strm.avail_in),a>n&&(a=n),a<s&&(0===a&&e!==X||e===P||a!==i+t.strm.avail_in))break;r=e===X&&a===i+t.strm.avail_in?1:0,H(t,0,0,r),t.pending_buf[t.pending-4]=a,t.pending_buf[t.pending-3]=a>>8,t.pending_buf[t.pending-2]=~a,t.pending_buf[t.pending-1]=~a>>8,ct(t.strm),i&&(i>a&&(i=a),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,a-=i),a&&(bt(t.strm,t.strm.output,t.strm.next_out,a),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a)}while(0===r);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),r?4:e!==P&&e!==X&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(n=t.window_size-t.strstart,t.strm.avail_in>n&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,n+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),n>t.strm.avail_in&&(n=t.strm.avail_in),n&&(bt(t.strm,t.window,t.strstart,n),t.strstart+=n,t.insert+=n>t.w_size-t.insert?t.w_size-t.insert:n),t.high_water<t.strstart&&(t.high_water=t.strstart),n=t.bi_valid+42>>3,n=t.pending_buf_size-n>65535?65535:t.pending_buf_size-n,s=n>t.w_size?t.w_size:n,i=t.strstart-t.block_start,(i>=s||(i||e===X)&&e!==P&&0===t.strm.avail_in&&i<=n)&&(a=i>n?n:i,r=e===X&&0===t.strm.avail_in&&a===i?1:0,H(t,t.block_start,a,r),t.block_start+=a,ct(t.strm)),r?3:1)},vt=(t,e)=>{let a,i;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a)),t.match_length>=3)if(i=j(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ft(t,t.ins_h,t.window[t.strstart+1]);else i=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2},yt=(t,e)=>{let a,i,n;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a),t.match_length<=5&&(t.strategy===et||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,i=j(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(ut(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=j(t,0,t.window[t.strstart-1]),i&&ut(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=j(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2};function xt(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}const zt=[new xt(0,0,0,0,kt),new xt(4,4,8,4,vt),new xt(4,5,16,8,vt),new xt(4,6,32,32,vt),new xt(4,4,16,16,yt),new xt(8,16,32,32,yt),new xt(8,16,128,128,yt),new xt(8,32,128,256,yt),new xt(32,128,258,1024,yt),new xt(32,258,258,4096,yt)];function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ot,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),dt(this.dyn_ltree),dt(this.dyn_dtree),dt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),dt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),dt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Et=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||42!==e.status&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&113!==e.status&&666!==e.status?1:0},Rt=t=>{if(Et(t))return lt(t,Q);t.total_in=t.total_out=0,t.data_type=rt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=-2,C(e),q},Zt=t=>{const e=Rt(t);var a;return e===q&&((a=t.state).window_size=2*a.w_size,dt(a.head),a.max_lazy_match=zt[a.level].max_lazy,a.good_match=zt[a.level].good_length,a.nice_match=zt[a.level].nice_length,a.max_chain_length=zt[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0),e},Ut=(t,e,a,i,n,s)=>{if(!t)return Q;let r=1;if(e===tt&&(e=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),n<1||n>9||a!==ot||i<8||i>15||e<0||e>9||s<0||s>nt||8===i&&1!==r)return lt(t,Q);8===i&&(i=9);const o=new At;return t.state=o,o.strm=t,o.status=42,o.wrap=r,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=e,o.strategy=s,o.method=a,Zt(t)};var St={deflateInit:(t,e)=>Ut(t,e,ot,15,8,st),deflateInit2:Ut,deflateReset:Zt,deflateResetKeep:Rt,deflateSetHeader:(t,e)=>Et(t)||2!==t.state.wrap?Q:(t.state.gzhead=e,q),deflate:(t,e)=>{if(Et(t)||e>W||e<0)return t?lt(t,Q):Q;const a=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===a.status&&e!==X)return lt(t,0===t.avail_out?$:Q);const i=a.last_flush;if(a.last_flush=e,0!==a.pending){if(ct(t),0===t.avail_out)return a.last_flush=-1,q}else if(0===t.avail_in&&ht(e)<=ht(i)&&e!==X)return lt(t,$);if(666===a.status&&0!==t.avail_in)return lt(t,$);if(42===a.status&&0===a.wrap&&(a.status=113),42===a.status){let e=ot+(a.w_bits-8<<4)<<8,i=-1;if(i=a.strategy>=at||a.level<2?0:a.level<6?1:6===a.level?2:3,e|=i<<6,0!==a.strstart&&(e|=32),e+=31-e%31,mt(a,e),0!==a.strstart&&(mt(a,t.adler>>>16),mt(a,65535&t.adler)),t.adler=1,a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q}if(57===a.status)if(t.adler=0,wt(a,31),wt(a,139),wt(a,8),a.gzhead)wt(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),wt(a,255&a.gzhead.time),wt(a,a.gzhead.time>>8&255),wt(a,a.gzhead.time>>16&255),wt(a,a.gzhead.time>>24&255),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(wt(a,255&a.gzhead.extra.length),wt(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=N(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69;else if(wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,3),a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q;if(69===a.status){if(a.gzhead.extra){let e=a.pending,i=(65535&a.gzhead.extra.length)-a.gzindex;for(;a.pending+i>a.pending_buf_size;){let n=a.pending_buf_size-a.pending;if(a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex,a.gzindex+n),a.pending),a.pending=a.pending_buf_size,a.gzhead.hcrc&&a.pending>e&&(t.adler=N(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex+=n,ct(t),0!==a.pending)return a.last_flush=-1,q;e=0,i-=n}let n=new Uint8Array(a.gzhead.extra);a.pending_buf.set(n.subarray(a.gzindex,a.gzindex+i),a.pending),a.pending+=i,a.gzhead.hcrc&&a.pending>e&&(t.adler=N(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex=0}a.status=73}if(73===a.status){if(a.gzhead.name){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,q;i=0}e=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),a.gzindex=0}a.status=91}if(91===a.status){if(a.gzhead.comment){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,q;i=0}e=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i))}a.status=103}if(103===a.status){if(a.gzhead.hcrc){if(a.pending+2>a.pending_buf_size&&(ct(t),0!==a.pending))return a.last_flush=-1,q;wt(a,255&t.adler),wt(a,t.adler>>8&255),t.adler=0}if(a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q}if(0!==t.avail_in||0!==a.lookahead||e!==P&&666!==a.status){let i=0===a.level?kt(a,e):a.strategy===at?((t,e)=>{let a;for(;;){if(0===t.lookahead&&(pt(t),0===t.lookahead)){if(e===P)return 1;break}if(t.match_length=0,a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):a.strategy===it?((t,e)=>{let a,i,n,s;const r=t.window;for(;;){if(t.lookahead<=258){if(pt(t),t.lookahead<=258&&e===P)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=t.strstart-1,i=r[n],i===r[++n]&&i===r[++n]&&i===r[++n])){s=t.strstart+258;do{}while(i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&n<s);t.match_length=258-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=j(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):zt[a.level].func(a,e);if(3!==i&&4!==i||(a.status=666),1===i||3===i)return 0===t.avail_out&&(a.last_flush=-1),q;if(2===i&&(e===Y?K(a):e!==W&&(H(a,0,0,!1),e===G&&(dt(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),ct(t),0===t.avail_out))return a.last_flush=-1,q}return e!==X?q:a.wrap<=0?J:(2===a.wrap?(wt(a,255&t.adler),wt(a,t.adler>>8&255),wt(a,t.adler>>16&255),wt(a,t.adler>>24&255),wt(a,255&t.total_in),wt(a,t.total_in>>8&255),wt(a,t.total_in>>16&255),wt(a,t.total_in>>24&255)):(mt(a,t.adler>>>16),mt(a,65535&t.adler)),ct(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?q:J)},deflateEnd:t=>{if(Et(t))return Q;const e=t.state.status;return t.state=null,113===e?lt(t,V):q},deflateSetDictionary:(t,e)=>{let a=e.length;if(Et(t))return Q;const i=t.state,n=i.wrap;if(2===n||1===n&&42!==i.status||i.lookahead)return Q;if(1===n&&(t.adler=F(t.adler,e,a,0)),i.wrap=0,a>=i.w_size){0===n&&(dt(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(a-i.w_size,a),0),e=t,a=i.w_size}const s=t.avail_in,r=t.next_in,o=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,pt(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do{i.ins_h=ft(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e);i.strstart=t,i.lookahead=2,pt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=r,t.input=o,t.avail_in=s,i.wrap=n,q},deflateInfo:"pako deflate (from Nodeca project)"};const Dt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Tt=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(const e in a)Dt(a,e)&&(t[e]=a[e])}}return t},Ot=t=>{let e=0;for(let a=0,i=t.length;a<i;a++)e+=t[a].length;const a=new Uint8Array(e);for(let e=0,i=0,n=t.length;e<n;e++){let n=t[e];a.set(n,i),i+=n.length}return a};let Ft=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Ft=!1}const Lt=new Uint8Array(256);for(let t=0;t<256;t++)Lt[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Lt[254]=Lt[254]=1;var Nt=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,i,n,s,r=t.length,o=0;for(n=0;n<r;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),o+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(o),s=0,n=0;s<o;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},It=(t,e)=>{const a=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,n;const s=new Array(2*a);for(n=0,i=0;i<a;){let e=t[i++];if(e<128){s[n++]=e;continue}let r=Lt[e];if(r>4)s[n++]=65533,i+=r-1;else{for(e&=2===r?31:3===r?15:7;r>1&&i<a;)e=e<<6|63&t[i++],r--;r>1?s[n++]=65533:e<65536?s[n++]=e:(e-=65536,s[n++]=55296|e>>10&1023,s[n++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Ft)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let a="";for(let i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a})(s,n)},Bt=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let a=e-1;for(;a>=0&&128==(192&t[a]);)a--;return a<0||0===a?e:a+Lt[t[a]]>e?a:e};var Ct=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ht=Object.prototype.toString,{Z_NO_FLUSH:Mt,Z_SYNC_FLUSH:jt,Z_FULL_FLUSH:Kt,Z_FINISH:Pt,Z_OK:Yt,Z_STREAM_END:Gt,Z_DEFAULT_COMPRESSION:Xt,Z_DEFAULT_STRATEGY:Wt,Z_DEFLATED:qt}=B;function Jt(t){this.options=Tt({level:Xt,method:qt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wt},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=St.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==Yt)throw new Error(I[a]);if(e.header&&St.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Nt(e.dictionary):"[object ArrayBuffer]"===Ht.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,a=St.deflateSetDictionary(this.strm,t),a!==Yt)throw new Error(I[a]);this._dict_set=!0}}function Qt(t,e){const a=new Jt(e);if(a.push(t,!0),a.err)throw a.msg||I[a.err];return a.result}Jt.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize;let n,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Pt:Mt,"string"==typeof t?a.input=Nt(t):"[object ArrayBuffer]"===Ht.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(s===jt||s===Kt)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if(n=St.deflate(a,s),n===Gt)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),n=St.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Yt;if(0!==a.avail_out){if(s>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},Jt.prototype.onData=function(t){this.chunks.push(t)},Jt.prototype.onEnd=function(t){t===Yt&&(this.result=Ot(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Vt={Deflate:Jt,deflate:Qt,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Qt(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Qt(t,e)},constants:B};var $t=function(t,e){let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z,A;const E=t.state;a=t.next_in,z=t.input,i=a+(t.avail_in-5),n=t.next_out,A=t.output,s=n-(e-t.avail_out),r=n+(t.avail_out-257),o=E.dmax,l=E.wsize,h=E.whave,d=E.wnext,_=E.window,f=E.hold,c=E.bits,u=E.lencode,w=E.distcode,m=(1<<E.lenbits)-1,b=(1<<E.distbits)-1;t:do{c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=u[f&m];e:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,0===p)A[n++]=65535&g;else{if(!(16&p)){if(0==(64&p)){g=u[(65535&g)+(f&(1<<p)-1)];continue e}if(32&p){E.mode=16191;break t}t.msg="invalid literal/length code",E.mode=16209;break t}k=65535&g,p&=15,p&&(c<p&&(f+=z[a++]<<c,c+=8),k+=f&(1<<p)-1,f>>>=p,c-=p),c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=w[f&b];a:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,!(16&p)){if(0==(64&p)){g=w[(65535&g)+(f&(1<<p)-1)];continue a}t.msg="invalid distance code",E.mode=16209;break t}if(v=65535&g,p&=15,c<p&&(f+=z[a++]<<c,c+=8,c<p&&(f+=z[a++]<<c,c+=8)),v+=f&(1<<p)-1,v>o){t.msg="invalid distance too far back",E.mode=16209;break t}if(f>>>=p,c-=p,p=n-s,v>p){if(p=v-p,p>h&&E.sane){t.msg="invalid distance too far back",E.mode=16209;break t}if(y=0,x=_,0===d){if(y+=l-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}else if(d<p){if(y+=l+d-p,p-=d,p<k){k-=p;do{A[n++]=_[y++]}while(--p);if(y=0,d<k){p=d,k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}}else if(y+=d-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}for(;k>2;)A[n++]=x[y++],A[n++]=x[y++],A[n++]=x[y++],k-=3;k&&(A[n++]=x[y++],k>1&&(A[n++]=x[y++]))}else{y=n-v;do{A[n++]=A[y++],A[n++]=A[y++],A[n++]=A[y++],k-=3}while(k>2);k&&(A[n++]=A[y++],k>1&&(A[n++]=A[y++]))}break}}break}}while(a<i&&n<r);k=c>>3,a-=k,c-=k<<3,f&=(1<<c)-1,t.next_in=a,t.next_out=n,t.avail_in=a<i?i-a+5:5-(a-i),t.avail_out=n<r?r-n+257:257-(n-r),E.hold=f,E.bits=c};const te=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ee=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ae=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ne=(t,e,a,i,n,s,r,o)=>{const l=o.bits;let h,d,_,f,c,u,w=0,m=0,b=0,g=0,p=0,k=0,v=0,y=0,x=0,z=0,A=null;const E=new Uint16Array(16),R=new Uint16Array(16);let Z,U,S,D=null;for(w=0;w<=15;w++)E[w]=0;for(m=0;m<i;m++)E[e[a+m]]++;for(p=l,g=15;g>=1&&0===E[g];g--);if(p>g&&(p=g),0===g)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(b=1;b<g&&0===E[b];b++);for(p<b&&(p=b),y=1,w=1;w<=15;w++)if(y<<=1,y-=E[w],y<0)return-1;if(y>0&&(0===t||1!==g))return-1;for(R[1]=0,w=1;w<15;w++)R[w+1]=R[w]+E[w];for(m=0;m<i;m++)0!==e[a+m]&&(r[R[e[a+m]]++]=m);if(0===t?(A=D=r,u=20):1===t?(A=te,D=ee,u=257):(A=ae,D=ie,u=0),z=0,m=0,w=b,c=s,k=p,v=0,_=-1,x=1<<p,f=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){Z=w-v,r[m]+1<u?(U=0,S=r[m]):r[m]>=u?(U=D[r[m]-u],S=A[r[m]-u]):(U=96,S=0),h=1<<w-v,d=1<<k,b=d;do{d-=h,n[c+(z>>v)+d]=Z<<24|U<<16|S|0}while(0!==d);for(h=1<<w-1;z&h;)h>>=1;if(0!==h?(z&=h-1,z+=h):z=0,m++,0==--E[w]){if(w===g)break;w=e[a+r[m]]}if(w>p&&(z&f)!==_){for(0===v&&(v=p),c+=b,k=w-v,y=1<<k;k+v<g&&(y-=E[k+v],!(y<=0));)k++,y<<=1;if(x+=1<<k,1===t&&x>852||2===t&&x>592)return 1;_=z&f,n[_]=p<<24|k<<16|c-s|0}}return 0!==z&&(n[c+z]=w-v<<24|64<<16|0),o.bits=p,0};const{Z_FINISH:se,Z_BLOCK:re,Z_TREES:oe,Z_OK:le,Z_STREAM_END:he,Z_NEED_DICT:de,Z_STREAM_ERROR:_e,Z_DATA_ERROR:fe,Z_MEM_ERROR:ce,Z_BUF_ERROR:ue,Z_DEFLATED:we}=B,me=16209,be=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function ge(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pe=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<16180||e.mode>16211?1:0},ke=t=>{if(pe(t))return _e;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=16180,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,le},ve=t=>{if(pe(t))return _e;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ke(t)},ye=(t,e)=>{let a;if(pe(t))return _e;const i=t.state;return e<0?(a=0,e=-e):(a=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?_e:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,ve(t))},xe=(t,e)=>{if(!t)return _e;const a=new ge;t.state=a,a.strm=t,a.window=null,a.mode=16180;const i=ye(t,e);return i!==le&&(t.state=null),i};let ze,Ae,Ee=!0;const Re=t=>{if(Ee){ze=new Int32Array(512),Ae=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ne(1,t.lens,0,288,ze,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ne(2,t.lens,0,32,Ae,0,t.work,{bits:5}),Ee=!1}t.lencode=ze,t.lenbits=9,t.distcode=Ae,t.distbits=5},Ze=(t,e,a,i)=>{let n;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(a-s.wsize,a),0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),s.window.set(e.subarray(a-i,a-i+n),s.wnext),(i-=n)?(s.window.set(e.subarray(a-i,a),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0};var Ue={inflateReset:ve,inflateReset2:ye,inflateResetKeep:ke,inflateInit:t=>xe(t,15),inflateInit2:xe,inflate:(t,e)=>{let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z=0;const A=new Uint8Array(4);let E,R;const Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(pe(t)||!t.output||!t.input&&0!==t.avail_in)return _e;a=t.state,16191===a.mode&&(a.mode=16192),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,_=o,f=l,x=le;t:for(;;)switch(a.mode){case 16180:if(0===a.wrap){a.mode=16192;break}for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(2&a.wrap&&35615===h){0===a.wbits&&(a.wbits=15),a.check=0,A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0),h=0,d=0,a.mode=16181;break}if(a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",a.mode=me;break}if((15&h)!==we){t.msg="unknown compression method",a.mode=me;break}if(h>>>=4,d-=4,y=8+(15&h),0===a.wbits&&(a.wbits=y),y>15||y>a.wbits){t.msg="invalid window size",a.mode=me;break}a.dmax=1<<a.wbits,a.flags=0,t.adler=a.check=1,a.mode=512&h?16189:16191,h=0,d=0;break;case 16181:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.flags=h,(255&a.flags)!==we){t.msg="unknown compression method",a.mode=me;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=me;break}a.head&&(a.head.text=h>>8&1),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0,a.mode=16182;case 16182:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.time=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,A[2]=h>>>16&255,A[3]=h>>>24&255,a.check=N(a.check,A,4,0)),h=0,d=0,a.mode=16183;case 16183:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.xflags=255&h,a.head.os=h>>8),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0,a.mode=16184;case 16184:if(1024&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length=h,a.head&&(a.head.extra_len=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0}else a.head&&(a.head.extra=null);a.mode=16185;case 16185:if(1024&a.flags&&(c=a.length,c>o&&(c=o),c&&(a.head&&(y=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(i.subarray(s,s+c),y)),512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,a.length-=c),a.length))break t;a.length=0,a.mode=16186;case 16186:if(2048&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.name+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=16187;case 16187:if(4096&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.comment+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.comment=null);a.mode=16188;case 16188:if(512&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(65535&a.check)){t.msg="header crc mismatch",a.mode=me;break}h=0,d=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=16191;break;case 16189:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}t.adler=a.check=be(h),h=0,d=0,a.mode=16190;case 16190:if(0===a.havedict)return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,de;t.adler=a.check=1,a.mode=16191;case 16191:if(e===re||e===oe)break t;case 16192:if(a.last){h>>>=7&d,d-=7&d,a.mode=16206;break}for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}switch(a.last=1&h,h>>>=1,d-=1,3&h){case 0:a.mode=16193;break;case 1:if(Re(a),a.mode=16199,e===oe){h>>>=2,d-=2;break t}break;case 2:a.mode=16196;break;case 3:t.msg="invalid block type",a.mode=me}h>>>=2,d-=2;break;case 16193:for(h>>>=7&d,d-=7&d;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",a.mode=me;break}if(a.length=65535&h,h=0,d=0,a.mode=16194,e===oe)break t;case 16194:a.mode=16195;case 16195:if(c=a.length,c){if(c>o&&(c=o),c>l&&(c=l),0===c)break t;n.set(i.subarray(s,s+c),r),o-=c,s+=c,l-=c,r+=c,a.length-=c;break}a.mode=16191;break;case 16196:for(;d<14;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.nlen=257+(31&h),h>>>=5,d-=5,a.ndist=1+(31&h),h>>>=5,d-=5,a.ncode=4+(15&h),h>>>=4,d-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=me;break}a.have=0,a.mode=16197;case 16197:for(;a.have<a.ncode;){for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.lens[Z[a.have++]]=7&h,h>>>=3,d-=3}for(;a.have<19;)a.lens[Z[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,E={bits:a.lenbits},x=ne(0,a.lens,0,19,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid code lengths set",a.mode=me;break}a.have=0,a.mode=16198;case 16198:for(;a.have<a.nlen+a.ndist;){for(;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(g<16)h>>>=m,d-=m,a.lens[a.have++]=g;else{if(16===g){for(R=m+2;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(h>>>=m,d-=m,0===a.have){t.msg="invalid bit length repeat",a.mode=me;break}y=a.lens[a.have-1],c=3+(3&h),h>>>=2,d-=2}else if(17===g){for(R=m+3;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=3+(7&h),h>>>=3,d-=3}else{for(R=m+7;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=11+(127&h),h>>>=7,d-=7}if(a.have+c>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=me;break}for(;c--;)a.lens[a.have++]=y}}if(a.mode===me)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=me;break}if(a.lenbits=9,E={bits:a.lenbits},x=ne(1,a.lens,0,a.nlen,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid literal/lengths set",a.mode=me;break}if(a.distbits=6,a.distcode=a.distdyn,E={bits:a.distbits},x=ne(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,E),a.distbits=E.bits,x){t.msg="invalid distances set",a.mode=me;break}if(a.mode=16199,e===oe)break t;case 16199:a.mode=16200;case 16200:if(o>=6&&l>=258){t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,$t(t,f),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,16191===a.mode&&(a.back=-1);break}for(a.back=0;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(b&&0==(240&b)){for(p=m,k=b,v=g;z=a.lencode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,a.length=g,0===b){a.mode=16205;break}if(32&b){a.back=-1,a.mode=16191;break}if(64&b){t.msg="invalid literal/length code",a.mode=me;break}a.extra=15&b,a.mode=16201;case 16201:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=16202;case 16202:for(;z=a.distcode[h&(1<<a.distbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(0==(240&b)){for(p=m,k=b,v=g;z=a.distcode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,64&b){t.msg="invalid distance code",a.mode=me;break}a.offset=g,a.extra=15&b,a.mode=16203;case 16203:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=me;break}a.mode=16204;case 16204:if(0===l)break t;if(c=f-l,a.offset>c){if(c=a.offset-c,c>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=me;break}c>a.wnext?(c-=a.wnext,u=a.wsize-c):u=a.wnext-c,c>a.length&&(c=a.length),w=a.window}else w=n,u=r-a.offset,c=a.length;c>l&&(c=l),l-=c,a.length-=c;do{n[r++]=w[u++]}while(--c);0===a.length&&(a.mode=16200);break;case 16205:if(0===l)break t;n[r++]=a.length,l--,a.mode=16200;break;case 16206:if(a.wrap){for(;d<32;){if(0===o)break t;o--,h|=i[s++]<<d,d+=8}if(f-=l,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?N(a.check,n,f,r-f):F(a.check,n,f,r-f)),f=l,4&a.wrap&&(a.flags?h:be(h))!==a.check){t.msg="incorrect data check",a.mode=me;break}h=0,d=0}a.mode=16207;case 16207:if(a.wrap&&a.flags){for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=me;break}h=0,d=0}a.mode=16208;case 16208:x=he;break t;case me:x=fe;break t;case 16210:return ce;default:return _e}return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,(a.wsize||f!==t.avail_out&&a.mode<me&&(a.mode<16206||e!==se))&&Ze(t,t.output,t.next_out,f-t.avail_out),_-=t.avail_in,f-=t.avail_out,t.total_in+=_,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?N(a.check,n,f,t.next_out-f):F(a.check,n,f,t.next_out-f)),t.data_type=a.bits+(a.last?64:0)+(16191===a.mode?128:0)+(16199===a.mode||16194===a.mode?256:0),(0===_&&0===f||e===se)&&x===le&&(x=ue),x},inflateEnd:t=>{if(pe(t))return _e;let e=t.state;return e.window&&(e.window=null),t.state=null,le},inflateGetHeader:(t,e)=>{if(pe(t))return _e;const a=t.state;return 0==(2&a.wrap)?_e:(a.head=e,e.done=!1,le)},inflateSetDictionary:(t,e)=>{const a=e.length;let i,n,s;return pe(t)?_e:(i=t.state,0!==i.wrap&&16190!==i.mode?_e:16190===i.mode&&(n=1,n=F(n,e,a,0),n!==i.check)?fe:(s=Ze(t,e,a,a),s?(i.mode=16210,ce):(i.havedict=1,le)))},inflateInfo:"pako inflate (from Nodeca project)"};var Se=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const De=Object.prototype.toString,{Z_NO_FLUSH:Te,Z_FINISH:Oe,Z_OK:Fe,Z_STREAM_END:Le,Z_NEED_DICT:Ne,Z_STREAM_ERROR:Ie,Z_DATA_ERROR:Be,Z_MEM_ERROR:Ce}=B;function He(t){this.options=Tt({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=Ue.inflateInit2(this.strm,e.windowBits);if(a!==Fe)throw new Error(I[a]);if(this.header=new Se,Ue.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Nt(e.dictionary):"[object ArrayBuffer]"===De.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=Ue.inflateSetDictionary(this.strm,e.dictionary),a!==Fe)))throw new Error(I[a])}He.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let s,r,o;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Oe:Te,"[object ArrayBuffer]"===De.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),s=Ue.inflate(a,r),s===Ne&&n&&(s=Ue.inflateSetDictionary(a,n),s===Fe?s=Ue.inflate(a,r):s===Be&&(s=Ne));a.avail_in>0&&s===Le&&a.state.wrap>0&&0!==t[a.next_in];)Ue.inflateReset(a),s=Ue.inflate(a,r);switch(s){case Ie:case Be:case Ne:case Ce:return this.onEnd(s),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(0===a.avail_out||s===Le))if("string"===this.options.to){let t=Bt(a.output,a.next_out),e=a.next_out-t,n=It(a.output,t);a.next_out=e,a.avail_out=i-e,e&&a.output.set(a.output.subarray(t,t+e),0),this.onData(n)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(s!==Fe||0!==o){if(s===Le)return s=Ue.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},He.prototype.onData=function(t){this.chunks.push(t)},He.prototype.onEnd=function(t){t===Fe&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ot(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const{Deflate:Me,deflate:je,deflateRaw:Ke,gzip:Pe}=Vt;var Ye=Me,Ge=B;const Xe=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const e=this._hasEvents?",":"";this.deflate.push(e+t,Ge.Z_SYNC_FLUSH),this._hasEvents=!0}finish(){if(this.deflate.push("]",Ge.Z_FINISH),this.deflate.err)throw this.deflate.err;const t=this.deflate.result;return this._init(),t}_init(){this._hasEvents=!1,this.deflate=new Ye,this.deflate.push("[",Ge.Z_NO_FLUSH)}},We={clear:()=>(Xe.clear(),""),addEvent:t=>Xe.addEvent(t),finish:()=>Xe.finish()};addEventListener("message",(function(t){const e=t.data.method,a=t.data.id,i=t.data.arg;if(e in We&&"function"==typeof We[e])try{const t=We[e](i);postMessage({id:a,method:e,success:!0,response:t})}catch(t){postMessage({id:a,method:e,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});`;class sa{constructor(){this.events=[]}get hasEvents(){return this.events.length>0}destroy(){this.events=[]}async addEvent(e,n){if(n){this.events=[e];return}this.events.push(e)}finish(){return new Promise(e=>{const n=this.events;this.events=[],e(JSON.stringify(n))})}}class Wo{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?e():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,n){const r=this._getAndIncrementId();return new Promise((a,i)=>{const s=({data:o})=>{const c=o;if(c.method===e&&c.id===r){if(this._worker.removeEventListener("message",s),!c.success){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}a(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:e,arg:n})})}_getAndIncrementId(){return this._id++}}class Zo{constructor(e){this._worker=new Wo(e),this.hasEvents=!1}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}async addEvent(e,n){return this.hasEvents=!0,n&&await this._clear(),this._sendEventToWorker(e)}finish(){return this._finishRequest()}_sendEventToWorker(e){return this._worker.postMessage("addEvent",JSON.stringify(e))}async _finishRequest(){const e=await this._worker.postMessage("finish");return this.hasEvents=!1,e}_clear(){return this._worker.postMessage("clear")}}class qo{constructor(e){this._fallback=new sa,this._compression=new Zo(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get hasEvents(){return this._used.hasEvents}destroy(){this._fallback.destroy(),this._compression.destroy()}addEvent(e,n){return this._used.addEvent(e,n)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e}=this._fallback,n=[];for(const r of e)n.push(this._compression.addEvent(r));this._used=this._compression;try{await Promise.all(n)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("[Replay] Failed to add events when switching buffers.",r)}}}function Vo({useCompression:t}){if(t&&window.Worker)try{const e=new Blob([jo]),n=URL.createObjectURL(e);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Replay] Using compression worker");const r=new Worker(n);return new qo(r)}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Replay] Failed to create compression worker")}return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Replay] Using simple buffer"),new sa}function nn(t,e,n=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=n}function oa(t,e,n=+new Date){return nn(t.started,Hr,n)||nn(t.lastActivity,e,n)}function ca(t){if("sessionStorage"in W)try{W.sessionStorage.setItem(Yr,JSON.stringify(t))}catch{}}function tr(t){return t===void 0?!1:Math.random()<t}function _n(t){const e=new Date().getTime(),n=t.id||lr(),r=t.started||e,a=t.lastActivity||e,i=t.segmentId||0,s=t.sampled;return{id:n,started:r,lastActivity:a,segmentId:i,sampled:s}}function Xo(t,e){return tr(t)?"session":tr(e)?"error":!1}function Ko({sessionSampleRate:t,errorSampleRate:e,stickySession:n=!1}){const r=Xo(t,e),a=_n({sampled:r});return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`[Replay] Creating new session: ${a.id}`),n&&ca(a),a}function Jo(){if(!("sessionStorage"in W))return null;try{const e=W.sessionStorage.getItem(Yr);if(!e)return null;const n=JSON.parse(e);return _n(n)}catch{return null}}function Qo({expiry:t,currentSession:e,stickySession:n,sessionSampleRate:r,errorSampleRate:a}){const i=e||n&&Jo();if(i)if(oa(i,t)){if(i.sampled==="error")return{type:"new",session:_n({sampled:!1})};(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Replay] Session has expired")}else return{type:"saved",session:i};return{type:"new",session:Ko({stickySession:n,sessionSampleRate:r,errorSampleRate:a})}}async function Te(t,e,n){if(!t.eventBuffer||t.isPaused())return null;const a=e.timestamp>9999999999?e.timestamp:e.timestamp*1e3;if(a+hn<new Date().getTime())return null;const i=t.getContext().earliestEvent;t.session&&t.session.segmentId===0&&(!i||a<i)&&(t.getContext().earliestEvent=a);try{return await t.eventBuffer.addEvent(e,n)}catch(s){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error(s),t.stop()}}function Ie(t){return{timestamp:new Date().getTime()/1e3,type:"default",...t}}function ua(t,e){e.category!=="sentry.transaction"&&(e.category==="ui.click"?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(Te(t,{type:L.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:e}}),e.category==="console")))}const tc=t=>e=>{if(!t.isEnabled())return;const n=ec(e);n&&ua(t,n)};function ec(t){let e,n;try{n=nc(t),e=We(n)}catch{e="<unknown>"}return e.length===0?null:Ie({category:`ui.${t.name}`,message:e,data:{...n?{nodeId:wt.mirror.getId(n)}:{}}})}function nc(t){return rc(t.event)?t.event.target:t.event}function rc(t){return!!t.target}function _e(t,e){return e.map(({type:n,start:r,end:a,name:i,data:s})=>Te(t,{type:L.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:a,data:s}}}))}function la(t,e){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&t.getOptions()._experiments.traceInternals?!1:!ac(e)}function ac(t){const e=R().getClient(),n=e&&e.getDsn();return n?t.includes(n.host):!1}function ic(t){if(!t.endTimestamp)return null;const{startTimestamp:e,endTimestamp:n,fetchData:r,response:a}=t;return{type:"resource.fetch",start:e/1e3,end:n/1e3,name:r.url,data:{method:r.method,statusCode:a.status}}}function sc(t){return e=>{if(!t.isEnabled())return;const n=ic(e);n!==null&&(la(t,n.name)||t.addUpdate(()=>(_e(t,[n]),!0)))}}function oc(t){return t.type||!t.exception||!t.exception.values||!t.exception.values.length?!1:t.exception.values.some(e=>!e.stacktrace||!e.stacktrace.frames||!e.stacktrace.frames.length?!1:e.stacktrace.frames.some(n=>n.filename&&n.filename.includes("/rrweb/src/")))}function cc(t){return e=>{if(e.type===$r)return delete e.breadcrumbs,e;if(oc(e)&&!t.getOptions()._experiments.captureExceptions)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Replay] Ignoring error from rrweb internals",e),null;if((!e.type||t.recordingMode==="session")&&(e.tags={...e.tags,replayId:t.getSessionId()}),e.type==="transaction"&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id)return t.getContext().traceIds.add(e.contexts.trace.trace_id),e;if(e.type||t.getContext().errorIds.add(e.event_id),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&t.getOptions()._experiments.traceInternals){const n=lc(e);uc({message:`Tagging event (${e.event_id}) - ${e.message} - ${n.type}: ${n.value}`})}return t.recordingMode==="error"&&e.exception&&e.message!==fn&&setTimeout(async()=>{await t.flushImmediate(),t.stopRecording()&&(t.recordingMode="session",t.startRecording())}),e}}function uc(t){const{category:e,level:n,message:r,...a}=t;ii({category:e||"console",level:n||"debug",message:`[debug]: ${r}`,...a})}function lc(t){return{type:"Unknown",value:"n/a",...t.exception&&t.exception.values&&t.exception.values[0]}}function dc(t){const{from:e,to:n}=t,r=new Date().getTime()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}function fc(t){return e=>{if(!t.isEnabled())return;const n=dc(e);n!==null&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(_e(t,[n]),!1)))}}let er=null;const hc=t=>e=>{if(!t.isEnabled())return;const n=pc(e);n&&ua(t,n)};function pc(t){const e=t.getLastBreadcrumb&&t.getLastBreadcrumb();return er===e||!e||(er=e,e.category&&(["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")))?null:Ie(e)}function _c(t){if(t.xhr.__sentry_own_request__||(t.startTimestamp&&(t.xhr.__sentry_xhr__=t.xhr.__sentry_xhr__||{},t.xhr.__sentry_xhr__.startTimestamp=t.startTimestamp),!t.endTimestamp))return null;const{method:e,url:n,status_code:r}=t.xhr.__sentry_xhr__||{};if(n===void 0)return null;const a=t.xhr.__sentry_xhr__?t.xhr.__sentry_xhr__.startTimestamp||0:t.endTimestamp;return{type:"resource.xhr",name:n,start:a/1e3,end:t.endTimestamp/1e3,data:{method:e,statusCode:r}}}function mc(t){return e=>{if(!t.isEnabled())return;const n=_c(e);n!==null&&(la(t,n.name)||t.addUpdate(()=>(_e(t,[n]),!0)))}}function gc(t){const e=R().getScope();e&&e.addScopeListener(hc(t)),ut("dom",tc(t)),ut("fetch",sc(t)),ut("xhr",mc(t)),ut("history",fc(t)),Oe(cc(t))}async function vc(t){try{return Promise.all(_e(t,[yc(W.performance.memory)]))}catch{return[]}}function yc(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,a=new Date().getTime()/1e3;return{type:"memory",name:"memory",start:a,end:a,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}const nr={resource:kc,paint:wc,navigation:Ec,["largest-contentful-paint"]:xc};function bc(t){return t.map(Sc).filter(Boolean)}function Sc(t){return nr[t.entryType]===void 0?null:nr[t.entryType](t)}function Vt(t){return((Pa||W.performance.timeOrigin)+t)/1e3}function wc(t){const{duration:e,entryType:n,name:r,startTime:a}=t,i=Vt(a);return{type:n,name:r,start:i,end:i+e}}function Ec(t){const{entryType:e,name:n,duration:r,domComplete:a,startTime:i,transferSize:s,type:o}=t;return r===0?null:{type:`${e}.${o}`,start:Vt(i),end:Vt(a),name:n,data:{size:s,duration:r}}}function kc(t){const{entryType:e,initiatorType:n,name:r,responseEnd:a,startTime:i,encodedBodySize:s,transferSize:o}=t;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${e}.${n}`,start:Vt(i),end:Vt(a),name:r,data:{size:o,encodedBodySize:s}}}function xc(t){const{duration:e,entryType:n,startTime:r,size:a}=t,i=Vt(r);return{type:n,name:n,start:i,end:i+e,data:{duration:e,size:a,nodeId:wt.mirror.getId(t.element)}}}function Rc(t,e,n){let r,a,i;const s=n&&n.maxWait?Math.max(n.maxWait,e):0;function o(){return c(),r=t(),r}function c(){a!==void 0&&clearTimeout(a),i!==void 0&&clearTimeout(i),a=i=void 0}function u(){return a!==void 0||i!==void 0?o():r}function l(){return a&&clearTimeout(a),a=setTimeout(o,e),s&&i===void 0&&s!==e&&(i=setTimeout(o,s)),r}return l.cancel=c,l.flush=u,l}let rn;function Tc(t){const e=R().getClient();if(!e)return;const n=e.recordDroppedEvent.bind(e),r=(a,i,s)=>(s&&!s.type&&s.event_id&&t.delete(s.event_id),n(a,i,s));e.recordDroppedEvent=r,rn=n}function Ic(){const t=R().getClient();!t||!rn||(t.recordDroppedEvent=rn)}function Nc(t,e,n,r){return fe(Er(t,un(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function Cc({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}
`;if(typeof t=="string")n=`${r}${t}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+t.length),n.set(i),n.set(t,i.length)}return n}async function Oc({client:t,scope:e,replayId:n,event:r}){const a=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,i=await Ir(t.getOptions(),r,{event_id:n,integrations:a},e);if(!i)return null;i.platform=i.platform||"javascript";const s=t.getSdkMetadata&&t.getSdkMetadata(),{name:o,version:c}=s&&s.sdk||{};return i.sdk={...i.sdk,name:o||"sentry.javascript.unknown",version:c||"0.0.0"},i}async function Ac({recordingData:t,replayId:e,segmentId:n,includeReplayStartTimestamp:r,eventContext:a,timestamp:i,session:s,options:o}){const c=Cc({recordingData:t,headers:{segment_id:n}}),{urls:u,errorIds:l,traceIds:f,initialTimestamp:h}=a,p=R(),d=p.getClient(),w=p.getScope(),E=d&&d.getTransport(),k=d&&d.getDsn();if(!d||!w||!E||!k||!s.sampled)return;const y={type:$r,...r?{replay_start_timestamp:h/1e3}:{},timestamp:i/1e3,error_ids:l,trace_ids:f,urls:u,replay_id:e,segment_id:n,replay_type:s.sampled},_=await Oc({scope:w,client:d,replayId:e,event:y});if(!_){d.recordDroppedEvent("event_processor","replay",y),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("An event processor returned `null`, will not send event.");return}_.contexts={..._.contexts,replay:{..._.contexts&&_.contexts.replay,session_sample_rate:o.sessionSampleRate,error_sample_rate:o.errorSampleRate}};const m=Nc(_,c,k,d.getOptions().tunnel);let x;try{x=await E.send(m)}catch{throw new Error(fn)}if(!x)return x;if(typeof x.statusCode=="number"&&(x.statusCode<200||x.statusCode>=300))throw new da(x.statusCode);return x}class da extends Error{constructor(e){super(`Transport returned status code ${e}`)}}async function fa(t,e={count:0,interval:Hs}){const{recordingData:n,options:r}=t;if(n.length)try{return await Ac(t),!0}catch(a){if(a instanceof da)throw a;if(si("Replays",{_retryCount:e.count}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&r._experiments&&r._experiments.captureExceptions&&Ue(a),e.count>=js)throw new Error(`${fn} - max retries exceeded`);return e.interval*=++e.count,await new Promise((i,s)=>{setTimeout(async()=>{try{await fa(t,e),i(!0)}catch(o){s(o)}},e.interval)})}}class j{__init(){this.eventBuffer=null}__init2(){this.performanceEvents=[]}__init3(){this.recordingMode="session"}__init4(){this._performanceObserver=null}__init5(){this._flushLock=null}__init6(){this._lastActivity=new Date().getTime()}__init7(){this._isEnabled=!1}__init8(){this._isPaused=!1}__init9(){this._hasInitializedCoreListeners=!1}__init10(){this._stopRecording=null}__init11(){this._context={errorIds:new Set,traceIds:new Set,urls:[],earliestEvent:null,initialTimestamp:new Date().getTime(),initialUrl:""}}constructor({options:e,recordingOptions:n}){j.prototype.__init.call(this),j.prototype.__init2.call(this),j.prototype.__init3.call(this),j.prototype.__init4.call(this),j.prototype.__init5.call(this),j.prototype.__init6.call(this),j.prototype.__init7.call(this),j.prototype.__init8.call(this),j.prototype.__init9.call(this),j.prototype.__init10.call(this),j.prototype.__init11.call(this),j.prototype.__init12.call(this),j.prototype.__init13.call(this),j.prototype.__init14.call(this),j.prototype.__init15.call(this),j.prototype.__init16.call(this),this._recordingOptions=n,this._options=e,this._debouncedFlush=Rc(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay})}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}start(){if(this._setInitialState(),!!this._loadAndCheckSession()){if(!this.session){this._handleException(new Error("No session found"));return}this.session.sampled&&(this.session.sampled==="error"&&(this.recordingMode="error"),this._updateSessionActivity(),this.eventBuffer=Vo({useCompression:this._options.useCompression}),this._addListeners(),this._isEnabled=!0,this.startRecording())}}startRecording(){try{this._stopRecording=wt({...this._recordingOptions,...this.recordingMode==="error"&&{checkoutEveryNms:$s},emit:this._handleRecordingEmit})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording?(this._stopRecording(),this._stopRecording=void 0,!0):!1}catch(e){return this._handleException(e),!1}}stop(){if(this._isEnabled)try{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Replay] Stopping Replays"),this._isEnabled=!1,this._removeListeners(),this.stopRecording(),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,this._debouncedFlush.cancel()}catch(e){this._handleException(e)}}pause(){this._isPaused=!0,this.stopRecording()}resume(){this._loadAndCheckSession()&&(this._isPaused=!1,this.startRecording())}addUpdate(e){const n=e();this.recordingMode!=="error"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._loadAndCheckSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(e){const n=this.getSessionId();if(this._lastActivity&&nn(this._lastActivity,Hr)){this.pause();return}return this._loadAndCheckSession(e)?n!==this.getSessionId()?(this._triggerFullSnapshot(),!1):!0:void 0}_handleException(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("[Replay]",e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this._options._experiments&&this._options._experiments.captureExceptions&&Ue(e)}_loadAndCheckSession(e=hn){const{type:n,session:r}=Qo({expiry:e,stickySession:Boolean(this._options.stickySession),currentSession:this.session,sessionSampleRate:this._options.sessionSampleRate,errorSampleRate:this._options.errorSampleRate});n==="new"&&this._setInitialState();const a=this.getSessionId();return r.id!==a&&(r.previousSessionId=a),this.session=r,this.session.sampled?!0:(this.stop(),!1)}_setInitialState(){const e=`${W.location.pathname}${W.location.hash}${W.location.search}`,n=`${W.location.origin}${e}`;this.performanceEvents=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=new Date().getTime(),this._context.urls.push(n)}_addListeners(){try{W.document.addEventListener("visibilitychange",this._handleVisibilityChange),W.addEventListener("blur",this._handleWindowBlur),W.addEventListener("focus",this._handleWindowFocus),Tc(this._context.errorIds),this._hasInitializedCoreListeners||(gc(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}"PerformanceObserver"in W&&(this._performanceObserver=Ho(this))}_removeListeners(){try{W.document.removeEventListener("visibilitychange",this._handleVisibilityChange),W.removeEventListener("blur",this._handleWindowBlur),W.removeEventListener("focus",this._handleWindowFocus),Ic(),this._performanceObserver&&(this._performanceObserver.disconnect(),this._performanceObserver=null)}catch(e){this._handleException(e)}}__init12(){this._handleRecordingEmit=(e,n)=>{if(!this.checkAndHandleExpiredSession()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("[Replay] Received replay event after session expired.");return}this.addUpdate(()=>(this.recordingMode==="error"&&e.type===2&&this._setInitialState(),Te(this,e,n),e.type!==2?!1:(this.session&&this.session.previousSessionId||(this.recordingMode==="error"&&this.session&&this._context.earliestEvent&&(this.session.started=this._context.earliestEvent,this._maybeSaveSession()),this.recordingMode==="session"&&this.flushImmediate()),!0)))}}__init13(){this._handleVisibilityChange=()=>{W.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init14(){this._handleWindowBlur=()=>{const e=Ie({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init15(){this._handleWindowFocus=()=>{const e=Ie({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;const n=oa(this.session,Pn);e&&!n&&this._createCustomBreadcrumb(e),this._conditionalFlush()}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession(Pn)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Replay] Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_triggerFullSnapshot(){try{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Replay] Taking full rrweb snapshot"),wt.takeFullSnapshot(!0)}catch(e){this._handleException(e)}}_updateUserActivity(e=new Date().getTime()){this._lastActivity=e}_updateSessionActivity(e=new Date().getTime()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{Te(this,{type:L.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){const e=[...this.performanceEvents];return this.performanceEvents=[],Promise.all(_e(this,bc(e)))}_conditionalFlush(){this.recordingMode!=="error"&&this.flushImmediate()}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[],this._context.earliestEvent=null}_popEventContext(){this._context.earliestEvent&&this._context.earliestEvent<this._context.initialTimestamp&&(this._context.initialTimestamp=this._context.earliestEvent);const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds).filter(Boolean),traceIds:Array.from(this._context.traceIds).filter(Boolean),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){if(!this.session||!this.eventBuffer){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await vc(this),!!this.eventBuffer))try{const e=await this.eventBuffer.finish(),n=this.session.id,r=this._popEventContext(),a=this.session.segmentId++;this._maybeSaveSession(),await fa({replayId:n,recordingData:e,segmentId:a,includeReplayStartTimestamp:a===0,eventContext:r,session:this.session,options:this.getOptions(),timestamp:new Date().getTime()})}catch(e){this._handleException(e),this.stop()}}__init16(){this._flush=async()=>{if(this._isEnabled){if(!this.checkAndHandleExpiredSession()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("[Replay] No session found to flush.");return}if(this._debouncedFlush.cancel(),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=null;return}try{await this._flushLock}catch(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error(e)}finally{this._debouncedFlush()}}}}_maybeSaveSession(){this.session&&this._options.stickySession&&ca(this.session)}}function te(t,e,n,r){const a=typeof r=="string"?r.split(","):[],i=[...t,...a,...e];return typeof n<"u"&&(typeof n=="string"&&i.push(`.${n}`),console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")),i.join(",")}function Dc({mask:t,unmask:e,block:n,unblock:r,ignore:a,blockClass:i,blockSelector:s,maskTextClass:o,maskTextSelector:c,ignoreClass:u}){const l=te(t,[".sentry-mask","[data-sentry-mask]"],o,c),f=te(e,[".sentry-unmask","[data-sentry-unmask]"]),h={maskTextSelector:l,unmaskTextSelector:f,maskInputSelector:l,unmaskInputSelector:f,blockSelector:te(n,[".sentry-block","[data-sentry-block]"],i,s),unblockSelector:te(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:te(a,[".sentry-ignore","[data-sentry-ignore]"],u)};return i instanceof RegExp&&(h.blockClass=i),o instanceof RegExp&&(h.maskTextClass=o),h}function rr(){return typeof window<"u"&&(!Ba()||Uc())}function Uc(){return typeof process<"u"&&process.type==="renderer"}const ar="img,image,svg,path,rect,area,video,object,picture,embed,map,audio";let ir=!1;class Ne{static __initStatic(){this.id="Replay"}__init(){this.name=Ne.id}constructor({flushMinDelay:e=Gs,flushMaxDelay:n=Ys,stickySession:r=!0,useCompression:a=!0,_experiments:i={},sessionSampleRate:s,errorSampleRate:o,maskAllText:c,maskAllInputs:u=!0,blockAllMedia:l=!0,mask:f=[],unmask:h=[],block:p=[],unblock:d=[],ignore:w=[],maskFn:E,blockClass:k,blockSelector:y,maskInputOptions:_,maskTextClass:m,maskTextSelector:x,ignoreClass:g}={}){if(Ne.prototype.__init.call(this),this._recordingOptions={maskAllInputs:u,maskInputOptions:{..._||{},password:!0},maskTextFn:E,maskInputFn:E,...Dc({mask:f,unmask:h,block:p,unblock:d,ignore:w,blockClass:k,blockSelector:y,maskTextClass:m,maskTextSelector:x,ignoreClass:g}),slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0},this._initialOptions={flushMinDelay:e,flushMaxDelay:n,stickySession:r,sessionSampleRate:s,errorSampleRate:o,useCompression:a,maskAllText:typeof c=="boolean"?c:!x,blockAllMedia:l,_experiments:i},typeof s=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${s} })`),this._initialOptions.sessionSampleRate=s),typeof o=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${o} })`),this._initialOptions.errorSampleRate=o),this._initialOptions.maskAllText&&(this._recordingOptions.maskTextSelector=Ps),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${ar}`:ar),this._isInitialized&&rr())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return ir}set _isInitialized(e){ir=e}setupOnce(){rr()&&(this._setup(),setTimeout(()=>this.start()))}start(){this._replay&&this._replay.start()}stop(){this._replay&&this._replay.stop()}flush(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.flushImmediate()}_setup(){const e=Lc(this._initialOptions);this._replay=new j({options:e,recordingOptions:this._recordingOptions})}}Ne.__initStatic();function Lc(t){const e=R().getClient(),n=e&&e.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...an(t)};return n?(t.sessionSampleRate==null&&t.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set."),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(console.warn("SDK client is not available."),r)}let ha={};S.Sentry&&S.Sentry.Integrations&&(ha=S.Sentry.Integrations);const hu={...ha,...Di,...Bs};function pu(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:Ee}],version:Ee},Ms(t)}const pa="ui.react.render",Mc="ui.react.update",_a="ui.react.mount",sr="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",zc="unknown";class le extends ht.Component{__init(){this._mountSpan=void 0}__init2(){this._updateSpan=void 0}static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(e){super(e),le.prototype.__init.call(this),le.prototype.__init2.call(this);const{name:n,disabled:r=!1}=this.props;if(r)return;const a=ma();a&&(this._mountSpan=a.startChild({description:`<${n}>`,op:_a}))}componentDidMount(){this._mountSpan&&this._mountSpan.finish()}shouldComponentUpdate({updateProps:e,includeUpdates:n=!0}){if(n&&this._mountSpan&&e!==this.props.updateProps){const r=Object.keys(e).filter(a=>e[a]!==this.props.updateProps[a]);if(r.length>0){const a=Ze();this._updateSpan=this._mountSpan.startChild({data:{changedProps:r},description:`<${this.props.name}>`,op:Mc,startTimestamp:a})}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.finish(),this._updateSpan=void 0)}componentWillUnmount(){const{name:e,includeRender:n=!0}=this.props;this._mountSpan&&n&&this._mountSpan.startChild({description:`<${e}>`,endTimestamp:Ze(),op:pa,startTimestamp:this._mountSpan.endTimestamp})}render(){return this.props.children}}le.__initStatic();function _u(t,e){const n=e&&e.name||t.displayName||t.name||zc,r=a=>ht.createElement(le,{...e,name:n,updateProps:a,__self:this,__source:{fileName:sr,lineNumber:146}},ht.createElement(t,{...a,__self:this,__source:{fileName:sr,lineNumber:147}}));return r.displayName=`profiler(${n})`,Ae(r,t),r}function mu(t,e={disabled:!1,hasRenderSpan:!0}){const[n]=ht.useState(()=>{if(e&&e.disabled)return;const r=ma();if(r)return r.startChild({description:`<${t}>`,op:_a})});ht.useEffect(()=>(n&&n.finish(),()=>{n&&e.hasRenderSpan&&n.startChild({description:`<${t}>`,endTimestamp:Ze(),op:pa,startTimestamp:n.endTimestamp})}),[])}function ma(t=R()){if(t){const e=t.getScope();if(e)return e.getTransaction()}}const or="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function Fc(t){const e=t.match(/^([^.]+)/);return e!==null&&parseInt(e[0])>=17}const Bc="unknown",cr={componentStack:null,error:null,eventId:null};class Ce extends ht.Component{constructor(...e){super(...e),Ce.prototype.__init.call(this),Ce.prototype.__init2.call(this)}__init(){this.state=cr}componentDidCatch(e,{componentStack:n}){const{beforeCapture:r,onError:a,showDialog:i,dialogOptions:s}=this.props;kr(o=>{if(Fc(ht.version)&&pr(e)){const u=new Error(e.message);u.name=`React ErrorBoundary ${u.name}`,u.stack=n,e.cause=u}r&&r(o,e,n);const c=Ue(e,{contexts:{react:{componentStack:n}}});a&&a(e,n,c),i&&zs({...s,eventId:c}),this.setState({error:e,componentStack:n,eventId:c})})}componentDidMount(){const{onMount:e}=this.props;e&&e()}componentWillUnmount(){const{error:e,componentStack:n,eventId:r}=this.state,{onUnmount:a}=this.props;a&&a(e,n,r)}__init2(){this.resetErrorBoundary=()=>{const{onReset:e}=this.props,{error:n,componentStack:r,eventId:a}=this.state;e&&e(n,r,a),this.setState(cr)}}render(){const{fallback:e,children:n}=this.props,{error:r,componentStack:a,eventId:i}=this.state;if(r){let s;return typeof e=="function"?s=e({error:r,componentStack:a,resetError:this.resetErrorBoundary,eventId:i}):s=e,ht.isValidElement(s)?s:(e&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}function gu(t,e){const n=t.displayName||t.name||Bc,r=a=>ht.createElement(Ce,{...e,__self:this,__source:{fileName:or,lineNumber:174}},ht.createElement(t,{...a,__self:this,__source:{fileName:or,lineNumber:175}}));return r.displayName=`errorBoundary(${n})`,Ae(r,t),r}const Pc="redux.action",Gc="info",Yc={actionTransformer:t=>t,stateTransformer:t=>t||null};function vu(t){const e={...Yc,...t};return n=>(r,a)=>n((s,o)=>{const c=r(s,o);return ai(u=>{const l=e.actionTransformer(o);typeof l<"u"&&l!==null&&u.addBreadcrumb({category:Pc,data:l,type:Gc});const f=e.stateTransformer(c);typeof f<"u"&&f!==null?u.setContext("state",{state:{type:"redux",value:f}}):u.setContext("state",null);const{configureScopeWithState:h}=e;typeof h=="function"&&h(u,c)}),c},a)}function yu(t,e,n){return(r,a=!0,i=!0)=>{let s,o;a&&S&&S.location&&ur(e,S.location,n,(c,u="url")=>{o=c,s=r({name:o,op:"pageload",tags:{"routing.instrumentation":"react-router-v3"},metadata:{source:u}})}),i&&t.listen&&t.listen(c=>{if(c.action==="PUSH"||c.action==="POP"){s&&s.finish();const u={"routing.instrumentation":"react-router-v3"};o&&(u.from=o),ur(e,c,n,(l,f="url")=>{o=l,s=r({name:o,op:"navigation",tags:u,metadata:{source:f}})})}})}}function ur(t,e,n,r){let a=e.pathname;n({location:e,routes:t},(i,s,o)=>{if(i||!o)return r(a);const c=$c(o.routes||[]);return c.length===0||c==="/*"?r(a):(a=c,r(a,"route"))})}function $c(t){if(!Array.isArray(t)||t.length===0)return"";const e=t.filter(r=>!!r.path);let n=-1;for(let r=e.length-1;r>=0;r--){const a=e[r];if(a.path&&a.path.startsWith("/")){n=r;break}}return e.slice(n).filter(({path:r})=>!!r).map(({path:r})=>r).join("")}const Hc="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouter.tsx";let Bt;function bu(t,e,n){return ga(t,"react-router-v4",e,n)}function Su(t,e,n){return ga(t,"react-router-v5",e,n)}function ga(t,e,n=[],r){function a(){if(t&&t.location)return t.location.pathname;if(S&&S.location)return S.location.pathname}function i(o){if(n.length===0||!r)return[o,"url"];const c=va(n,o,r);for(let u=0;u<c.length;u++)if(c[u].match.isExact)return[c[u].match.path,"route"];return[o,"url"]}const s={"routing.instrumentation":e};return(o,c=!0,u=!0)=>{const l=a();if(c&&l){const[f,h]=i(l);Bt=o({name:f,op:"pageload",tags:s,metadata:{source:h}})}u&&t.listen&&t.listen((f,h)=>{if(h&&(h==="PUSH"||h==="POP")){Bt&&Bt.finish();const[p,d]=i(f.pathname);Bt=o({name:p,op:"navigation",tags:s,metadata:{source:d}})}})}}function va(t,e,n,r=[]){return t.some(a=>{const i=a.path?n(e,a):r.length?r[r.length-1].match:jc(e);return i&&(r.push({route:a,match:i}),a.routes&&va(a.routes,e,n,r)),!!i}),r}function jc(t){return{path:"/",url:"/",params:{},isExact:t==="/"}}function wu(t){const e=t.displayName||t.name,n=r=>(Bt&&r&&r.computedMatch&&r.computedMatch.isExact&&Bt.setName(r.computedMatch.path,"route"),ht.createElement(t,{...r,__self:this,__source:{fileName:Hc,lineNumber:174}}));return n.displayName=`sentryRoute(${e})`,Ae(n,t),n}const ya="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouterv6.tsx";let St,Pt,Gt,Yt,Se,Xt,de,mn;const ba={"routing.instrumentation":"react-router-v6"};function Eu(t,e,n,r,a){return(i,s=!0,o=!0)=>{const c=S&&S.location&&S.location.pathname;s&&c&&(St=i({name:c,op:"pageload",tags:ba,metadata:{source:"url"}})),Pt=t,Gt=e,Yt=n,Xt=a,Se=r,de=i,mn=o}}function Sa(t,e,n){if(!t||t.length===0)return[e.pathname,"url"];let r="";if(n)for(let a=0;a<n.length;a++){const i=n[a],s=i.route;if(s){if(s.index)return[i.pathname,"route"];const o=s.path;if(o){const c=o[0]==="/"||r[r.length-1]==="/"?o:`/${o}`;if(r+=c,i.pathname===e.pathname)return Nn(r)!==Nn(i.pathname)&&r.slice(-2)!=="/*"?[c,"route"]:[r,"route"]}}}return[e.pathname,"url"]}function gn(t,e,n){const r=Array.isArray(n)?n:Xt(e,t);St&&r&&St.setName(...Sa(e,t,r))}function vn(t,e,n,r){const a=Array.isArray(r)?r:Xt(e,t);if(mn&&(n==="PUSH"||n==="POP")&&a){St&&St.finish();const[i,s]=Sa(e,t,a);St=de({name:i,op:"navigation",tags:ba,metadata:{source:s}})}}function ku(t){if(!Pt||!Gt||!Yt||!Se||!Xt||!de)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${Pt}. useLocation: ${Gt}. useNavigationType: ${Yt}.
      createRoutesFromChildren: ${Se}. matchRoutes: ${Xt}. customStartTransaction: ${de}.`),t;let e=!0;const n=r=>{const a=Gt(),i=Yt();return Pt(()=>{const s=Se(r.children);e?(gn(a,s),e=!1):vn(a,s,i)},[a,i]),yr.createElement(t,{...r,__self:this,__source:{fileName:ya,lineNumber:197}})};return Ae(n,t),n}function xu(t){if(!Pt||!Gt||!Yt||!Xt||!de)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),t;let e=!0;return(n,r)=>{const a=()=>{const i=t(n,r),s=Gt(),o=Yt(),c=typeof r=="string"||r&&r.pathname?r:s;return Pt(()=>{const u=typeof c=="string"?{pathname:c}:c;e?(gn(u,n),e=!1):vn(u,n,o)},[o,c]),i};return yr.createElement(a,{__self:this,__source:{fileName:ya,lineNumber:248}})}}function Ru(t){return function(e,n){const r=t(e,n);return r.state.historyAction==="POP"&&St&&gn(r.state.location,e),r.subscribe(a=>{const i=a.location;mn&&(a.historyAction==="PUSH"||a.historyAction==="POP")&&St&&vn(i,e,a.historyAction)}),r}}export{jt as Breadcrumbs,Wi as BrowserClient,Ot as Dedupe,Ce as ErrorBoundary,Ht as FunctionToString,mt as GlobalHandlers,Ct as HttpContext,Nu as Hub,It as InboundFilters,hu as Integrations,Nt as LinkedErrors,le as Profiler,Ne as Replay,Ee as SDK_VERSION,za as Scope,Wt as TryCatch,S as WINDOW,ii as addBreadcrumb,Oe as addGlobalEventProcessor,Jc as captureEvent,Ue as captureException,Kc as captureMessage,ss as chromeStackLineParser,du as close,ai as configureScope,vu as createReduxEnhancer,Or as createTransport,Ls as defaultIntegrations,vs as defaultStackLineParsers,ys as defaultStackParser,Bi as eventFromException,Pi as eventFromMessage,lu as flush,cu as forceLoad,ls as geckoStackLineParser,R as getCurrentHub,Cu as getHubFromCarrier,pu as init,ou as lastEventId,Vi as makeFetchTransport,Ou as makeMain,Ki as makeXHRTransport,uu as onLoad,iu as opera10StackLineParser,su as opera11StackLineParser,yu as reactRouterV3Instrumentation,bu as reactRouterV4Instrumentation,Su as reactRouterV5Instrumentation,Eu as reactRouterV6Instrumentation,si as setContext,tu as setExtra,Qc as setExtras,nu as setTag,eu as setTags,ru as setUser,zs as showReportDialog,au as startTransaction,mu as useProfiler,hs as winjsStackLineParser,gu as withErrorBoundary,_u as withProfiler,kr as withScope,ku as withSentryReactRouterV6Routing,wu as withSentryRouting,fu as wrap,Ru as wrapCreateBrowserRouter,xu as wrapUseRoutes};
